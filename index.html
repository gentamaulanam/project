<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Misi Kena Kick & Kejar THR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f0f2f5;
            height: 100dvh; 
        }

        .whatsapp-green { background-color: #075e54; }
        .whatsapp-light-green { background-color: #25d366; }
        .chat-bg { background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); background-color: #e5ddd5; }
        .bubble-left { position: relative; background: white; border-radius: 0 12px 12px 12px; }
        .bubble-left::after { content: ''; position: absolute; left: -10px; top: 0; width: 0; height: 0; border: 10px solid transparent; border-right-color: white; border-top-color: white; }
        .bubble-right { position: relative; background: #dcf8c6; border-radius: 12px 0 12px 12px; }
        .bubble-right::after { content: ''; position: absolute; right: -10px; top: 0; width: 0; height: 0; border: 10px solid transparent; border-left-color: #dcf8c6; border-top-color: #dcf8c6; }
        .progress-bar { transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        .message-anim { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        #options-panel::-webkit-scrollbar { width: 4px; }
        #options-panel::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 4px; }
    </style>
</head>
<body class="overflow-hidden flex flex-col">

    <!-- HALAMAN UTAMA (LIST CHAT) -->
    <div id="screen-home" class="h-full flex flex-col w-full">
        <div class="whatsapp-green text-white p-4 shadow-md shrink-0">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-xl font-semibold">WhatsApp</h1>
                <div class="flex space-x-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" /></svg>
                </div>
            </div>
            <div class="flex space-x-6 text-sm font-medium uppercase opacity-80">
                <span class="pb-2 border-b-2 border-white">Chat</span>
                <span>Status</span>
                <span>Panggilan</span>
            </div>
        </div>

        <div class="flex-grow overflow-y-auto bg-white">
            <!-- Grup Utama (RT) -->
            <div onclick="showBriefing('rt')" class="flex items-center p-4 hover:bg-gray-100 cursor-pointer border-b border-gray-100 transition active:bg-gray-200">
                <div class="w-14 h-14 bg-pink-100 rounded-full flex-shrink-0 mr-4 overflow-hidden border">
                    <img src="https://images.unsplash.com/photo-1560717845-968823efbee1?auto=format&fit=crop&w=150&q=80" alt="Bunga" class="w-full h-full object-cover">
                </div>
                <div class="flex-grow min-w-0">
                    <div class="flex justify-between">
                        <h3 class="font-bold text-gray-800 truncate">Grup Warga Komplek Berkah</h3>
                        <span class="text-xs text-green-500 whitespace-nowrap ml-2">08:00</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">Ibu RT: PENGUMUMAN PENTING!!! Baca...</p>
                </div>
            </div>

            <!-- Grup Baru (Keluarga) -->
            <div onclick="showBriefing('keluarga')" class="flex items-center p-4 hover:bg-gray-100 cursor-pointer border-b border-gray-100 transition active:bg-gray-200">
                <div class="w-14 h-14 bg-blue-100 rounded-full flex-shrink-0 mr-4 flex items-center justify-center border overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Grandpa&backgroundColor=b6e3f4" alt="Keluarga" class="w-full h-full">
                </div>
                <div class="flex-grow min-w-0">
                    <div class="flex justify-between">
                        <h3 class="font-bold text-gray-800">Keluarga Besar (Haji Somad)</h3>
                        <span class="text-xs text-green-500 whitespace-nowrap ml-2">07:30</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">Om Agus: Share info kesehatan...</p>
                </div>
            </div>

            <!-- Grup Simulasi Lain -->
            <div class="flex items-center p-4 opacity-60 grayscale border-b border-gray-100">
                <div class="w-14 h-14 bg-green-100 rounded-full flex-shrink-0 mr-4 flex items-center justify-center text-green-500 font-bold">A</div>
                <div class="flex-grow min-w-0">
                    <div class="flex justify-between">
                        <h3 class="font-bold text-gray-800">Alumni Pejuang UTBK</h3>
                        <span class="text-xs text-gray-400">Kemarin</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">Budi: Udah dapet pengumuman belum?</p>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DESKRIPSI MISI -->
    <div id="modal-briefing" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-6 hidden">
        <div class="bg-white rounded-2xl max-w-md w-full overflow-hidden shadow-2xl flex flex-col max-h-[90vh]">
            <div class="whatsapp-green p-4 text-white shrink-0">
                <h2 id="mission-title" class="text-lg font-bold">Misi</h2>
            </div>
            <div class="p-6 overflow-y-auto">
                <div id="mission-content">
                    <!-- Konten misi akan diisi via JS -->
                </div>
                <button onclick="startGame()" class="w-full whatsapp-light-green text-white font-bold py-3 rounded-xl hover:shadow-lg transition mt-4">Mulai Chat!</button>
            </div>
        </div>
    </div>

    <!-- HALAMAN GAME (CHAT) -->
    <div id="screen-game" class="h-full flex flex-col hidden w-full">
        <!-- Header Chat -->
        <div class="whatsapp-green text-white p-3 flex items-center shadow-md shrink-0 z-10">
            <button onclick="backToHome()" class="mr-2 p-1 hover:bg-white/10 rounded-full">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
            </button>
            <div class="w-9 h-9 md:w-10 md:h-10 rounded-full mr-2 md:mr-3 overflow-hidden border-2 border-white/50 shrink-0">
                <img id="game-avatar" src="" alt="Avatar" class="w-full h-full object-cover">
            </div>
            <div class="flex-grow mr-2 min-w-0">
                <h1 id="game-title" class="font-bold text-sm truncate">Nama Grup</h1>
                <p id="game-members" class="text-[10px] text-green-200 truncate">Anggota...</p>
            </div>
            <!-- BAR SCORE (Dinamis: Kekesalan / THR) -->
            <div class="flex flex-col items-end w-[35%] max-w-[150px] shrink-0">
                <div class="flex justify-between w-full mb-1">
                    <span id="score-label" class="text-[9px] md:text-[10px] uppercase font-bold text-white tracking-widest truncate mr-1">SCORE</span>
                    <span id="score-text" class="text-[10px] font-bold text-white">0%</span>
                </div>
                <div class="w-full h-3 md:h-4 bg-black/30 rounded-full overflow-hidden border border-white/20">
                    <div id="bar-score" class="progress-bar h-full bg-gradient-to-r from-orange-400 to-red-600 shadow-[0_0_10px_rgba(255,0,0,0.5)]" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Chat Area -->
        <div id="chat-container" class="flex-grow min-h-0 overflow-y-auto p-3 md:p-4 space-y-4 chat-bg flex flex-col scroll-smooth">
            <div id="game-intro" class="bg-blue-100/90 text-blue-800 text-xs p-2 rounded-lg self-center px-4 mb-2 shadow-sm font-semibold text-center border border-blue-200 shrink-0">
                Misi Dimulai
            </div>
            <div id="dynamic-messages" class="space-y-4 flex flex-col pb-2"></div>
            <div id="typing-indicator" class="hidden bubble-left p-2 max-w-[120px] shadow-sm self-start italic text-xs text-gray-500 mb-2">Seseorang sedang mengetik...</div>
        </div>

        <!-- Input/Options -->
        <div id="options-panel" class="bg-[#f0f0f0] p-3 md:p-4 border-t border-gray-300 shrink-0 max-h-[45vh] overflow-y-auto pb-safe">
            <p id="options-hint" class="text-[10px] font-bold text-gray-500 mb-2 md:mb-3 uppercase tracking-widest text-center sticky top-0 bg-[#f0f0f0] py-1 z-10">Pilih Balasan</p>
            <div id="options-grid" class="grid grid-cols-1 gap-2 md:gap-3 pb-2"></div>
        </div>
    </div>

    <!-- LAYAR HASIL -->
    <div id="overlay" class="fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-6 hidden">
        <div class="bg-white rounded-3xl p-6 md:p-8 max-w-sm w-full text-center shadow-2xl overflow-hidden relative">
            <div id="result-confetti" class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-red-500 via-green-500 to-blue-500"></div>
            <div id="result-icon" class="text-6xl md:text-7xl mb-4">ğŸš«</div>
            <h2 id="result-title" class="text-xl md:text-2xl font-bold mb-2"></h2>
            <p id="result-desc" class="text-gray-600 mb-6 text-sm"></p>
            <button onclick="backToHome()" class="w-full whatsapp-green text-white font-bold py-3 rounded-xl hover:opacity-90 transition shadow-lg">Kembali Ke List Chat</button>
        </div>
    </div>

    <script>
        // --- DATA SOAL RT (20 SOAL) ---
        // Misi: MEMPERLEMAH (Weaken)
        const bankSoalRT = [
            {
                statement: "Mulai besok WiFi di poskamling saya cabut. Gara-gara ada WiFi, pemuda yang pada ronda malah sibuk main game, daripada keliling kampung.",
                options: [
                    { text: "Kemarin para pemuda berhasil menangkap maling, karena mereka masih betah di poskamling sampai subuh.", type: "weaken", feedback: "Skakmat! Data lapangan membantah asumsi Bu RT. ğŸ”¥" },
                    { text: "Setuju Bu, game online ini memang merusak moral pemuda jaman sekarang.", type: "strengthen", feedback: "Bu RT merasa didukung penuh." },
                    { text: "Password WiFi-nya apa ya Bu? Saya lupa.", type: "neutral", feedback: "Bu RT menghela napas panjang." },
                    { text: "Di poskamling ada colokan listrik buat ngecas gak ya?", type: "neutral", feedback: "Pertanyaan tidak relevan." }
                ]
            },
            {
                statement: "Semua kucing liar di komplek harus diusir atau dibuang jauh-jauh, karena mereka sumber penyakit dan bikin lingkungan kotor.",
                options: [
                    { text: "Kemarin guru saya bilang kalau kucing liar bisa mengendalikan populasi tikus got yang bisa membawa penyakit ke warga.", type: "weaken", feedback: "Fakta ekosistem membuat Bu RT terdiam. ğŸ”¥" },
                    { text: "Bahaya memang kucing liar ini, ngerusak tanaman saya bu.", type: "strengthen", feedback: "Bu RT senang ada teman seperjuangan." },
                    { text: "Kucing saya di rumah makannya mahal lho Bu.", type: "neutral", feedback: "Pamer yang tidak perlu." },
                    { text: "Kucing itu hewan kesayangan Nabi lho Bu, jangan kasar-kasar.", type: "neutral", feedback: "Bu RT jadi serba salah." }
                ]
            },
            {
                statement: "Lampu penerangan jalan di Blok C akan dimatikan setelah jam 10 malam untuk menghemat biaya listrik kas warga.",
                options: [
                    { text: "Biaya keamanan untuk mengganti kerugian akibat pencurian di area gelap jauh lebih mahal daripada biaya listrik lampu jalan.", type: "weaken", feedback: "Analisis biaya-manfaat Anda tajam! ğŸ”¥" },
                    { text: "Bagus Bu, kita harus hemat energi demi bumi.", type: "strengthen", feedback: "Anda dianggap duta lingkungan oleh Bu RT." },
                    { text: "Lampu di teras rumah saya sudah LED kok Bu.", type: "neutral", feedback: "Info yang tidak diminta." },
                    { text: "Yang penting rumah Bu RT tetap terang benderang ya.", type: "neutral", feedback: "Sarkasme yang tidak dimengerti Bu RT." }
                ]
            },
            {
                statement: "Pohon beringin di taman ujung harus ditebang karena daunnya bikin nyampah jalanan terus, kasian tau, bikin capek tukang sapu.",
                options: [
                    { text: "Kalau ditebang, nanti ngga ada resapan air bu, bahaya banjir nanti.", type: "weaken", feedback: "Logika lingkungan Anda mematahkan argumen sampah. ğŸ”¥" },
                    { text: "Tebang aja Bu, biar jalanan selalu kinclong.", type: "strengthen", feedback: "Bu RT suka semangat kebersihan Anda." },
                    { text: "Kayunya bisa buat api unggun tahun baru gak ya?", type: "neutral", feedback: "Bu RT geleng-geleng kepala." },
                    { text: "Kalau ditebang nanti penunggunya pindah ke rumah siapa Bu?", type: "neutral", feedback: "Bu RT jadi merinding." }
                ]
            },
            {
                statement: "Tamu dilarang bawa mobil masuk ke komplek. Mobil tamu bikin aspal jalan kita cepat rusak dan berlubang, nanti anggaran kita habis cuma buat benerin jalan kompleks lagi.",
                options: [
                    { text: "Lebih banyak truk yang lewat dari proyek sebelah bu, dibanding sama tamu-tamu warga.", type: "weaken", feedback: "Anda menunjukkan penyebab kerusakan yang sebenarnya. ğŸ”¥" },
                    { text: "Betul, jalanan jadi awet kalau sepi kendaraan.", type: "strengthen", feedback: "Bu RT merasa idenya valid." },
                    { text: "Kalau rombongan bawa bis boleh berarti bu?", type: "neutral", feedback: "Mencari celah aturan." },
                    { text: "Mobil tamu suruh parkir di lapangan bola saja gimana Bu?", type: "neutral", feedback: "Ide yang aneh." }
                ]
            },
            {
                statement: "Mulai minggu depan, seluruh warga wajib ikut senam subuh. Kalau jarang senam, pasti gampang kena flu dan batuk. Nanti kalau banyak yang sakit, puskesmas rame.",
                options: [
                    { text: "Penyebab utama flu adalah virus yang menular lewat udara/droplet, bukan karena kurang senam, bu RT.", type: "weaken", feedback: "Fakta medis meruntuhkan mitos Bu RT. ğŸ”¥" },
                    { text: "Sehat itu mahal Bu, saya siap senam!", type: "strengthen", feedback: "Semangat 45 Anda disukai Bu RT." },
                    { text: "Seragam senamnya warna apa Bu?", type: "neutral", feedback: "Fokus ke fashion, bukan substansi." },
                    { text: "Habis senam terus makan bubur kacang ijo kayanya enak tuh bu!", type: "neutral", feedback: "Mikirin perut terus." }
                ]
            },
            {
                statement: "Tukang sayur keliling dilarang masuk komplek. Mereka bukannya mempermudah ibu-ibu biar cepet masak, malah bikin ibu-ibu jadi hobi ngerumpi dan lupa masak.",
                options: [
                    { text: "Kemarin, waktu tukang sayurnya libur, ibu-ibu pada rame ngerumpi di pos ronda bu.", type: "weaken", feedback: "Bukti empiris! Ngerumpi jalan terus tanpa tukang sayur. ğŸ”¥" },
                    { text: "Usir saja Bu, berisik banget teriak-teriak sayur.", type: "strengthen", feedback: "Anda mendukung ketenangan semu." },
                    { text: "Harga cabai sekarang lagi naik ya Bu.", type: "neutral", feedback: "Ibu RT malah curhat harga pasar." },
                    { text: "Yah, padahal saya mau titip beli petai buat lalapan.", type: "neutral", feedback: "Kecewa masalah perut." }
                ]
            },
            {
                statement: "Untuk acara 17-an nanti, kita wajib sewa pawang hujan mahal biar acaranya lancar dan tidak hujan.",
                options: [
                    { text: "Tadi di berita bilang pas acara 17an besok cuacanya cerah berawan dengan probabilitas hujan 0%, jadi pawang hujan tidak perlu deh bu.", type: "weaken", feedback: "Data BMKG mengalahkan klenik. ğŸ”¥" },
                    { text: "Sedia payung sebelum hujan ya Bu, pawang solusi terbaik.", type: "strengthen", feedback: "Bu RT merasa didukung secara spiritual." },
                    { text: "Saya mau daftar jadi pawang ujannya bu, saya bisa dan bersedia.", type: "neutral", feedback: "Anda dianggap aneh." },
                    { text: "Pawangnya sudah punya sertifikasi BNSP belum Bu?", type: "neutral", feedback: "Pertanyaan birokrasi yang bikin pusing." }
                ]
            },
            {
                statement: "Karena banyaknya kasus pencurian di berita, saya membuat aturan bahwa Asisten Rumah Tangga (ART) wajib pakai seragam khusus warna oranye biar satpam gampang membedakan mana ART mana pencuri yang menyamar.",
                options: [
                    { text: "Statistik kriminal menunjukkan pencuri profesional biasanya menyamar sebagai kurir paket atau tamu rapi, bu.", type: "weaken", feedback: "Argumen keamanan Bu RT runtuh oleh data. ğŸ”¥" },
                    { text: "Ide brilian Bu, biar tertib administrasi.", type: "strengthen", feedback: "Bu RT suka keteraturan Anda." },
                    { text: "Warna oranye ngejreng banget ya Bu.", type: "neutral", feedback: "Komentar fashion." },
                    { text: "Nanti dikira tahanan KPK kalau pakai rompi oranye.", type: "neutral", feedback: "Bercandaan politik." }
                ]
            },
            {
                statement: "Saya akan bangun 10 polisi tidur tambahan di jalan utama biar anak-anak aman dari kendaraan ngebut.",
                options: [
                    { text: "Kalau polisi tidurnya kebanyakan justru menghambat akses ambulans dan pemadam kebakaran saat terjadi keadaan darurat yang butuh waktu cepat.", type: "weaken", feedback: "Poin keselamatan darurat yang valid! ğŸ”¥" },
                    { text: "Biar motor pada pelan kayak siput, setuju Bu! Anak saya kemarin hampir keserempet bu.", type: "strengthen", feedback: "Emosi sesaat yang didukung Bu RT." },
                    { text: "Semen sekarang harganya berapa per sak?", type: "neutral", feedback: "Nanya harga bahan bangunan." },
                    { text: "Polisi tidur atau polisi cepek Bu?", type: "neutral", feedback: "Jokes bapak-bapak." }
                ]
            },
            {
                statement: "Daripada sampah menumpuk karena nunggu truk dinas, mending setiap sore warga bakar sampah masing-masing di depan rumah.",
                options: [
                    { text: "Membakar sampah plastik menghasilkan gas dioksin yang memicu kanker paru-paru bagi warga sekitar, jauh lebih berbahaya daripada tumpukan sampah.", type: "weaken", feedback: "Risiko kesehatan fatal membungkam Bu RT. ğŸ”¥" },
                    { text: "Siap Bu, biar sampah cepat musnah jadi abu.", type: "strengthen", feedback: "Solusi instan yang disukai Bu RT." },
                    { text: "Korek api saya habis Bu.", type: "neutral", feedback: "Alasan malas." },
                    { text: "Asapnya bikin jemuran saya bau sangit lho Bu.", type: "neutral", feedback: "Keluhan rumah tangga." }
                ]
            },
            {
                statement: "Si Dodi sakit perut pasti gara-gara sering pulang malam. Orang pulang malam itu pasti kena angin duduk.",
                options: [
                    { text: "Hasil diagnosa dokter menyatakan Dodi terkena infeksi bakteri dari makanan pedas yang tidak higienis, bukan karena angin malam.", type: "weaken", feedback: "Fakta medis vs Mitos. Fakta menang. ğŸ”¥" },
                    { text: "Angin malam memang jahat Bu, harus pakai jaket tebal.", type: "strengthen", feedback: "Anda termakan mitos yang sama." },
                    { text: "Semoga Dodi cepat sembuh ya.", type: "neutral", feedback: "Doa yang baik." },
                    { text: "Kerokin aja Bu punggungnya pakai bawang merah.", type: "neutral", feedback: "Tips tradisional." }
                ]
            },
            {
                statement: "Portal gerbang belakang kita gembok mati saja selamanya, biar maling nggak bisa lewat sana.",
                options: [
                    { text: "Menutup permanen gerbang belakang melanggar standar keselamatan karena menutup jalur evakuasi utama jika terjadi kebakaran di gerbang depan.", type: "weaken", feedback: "Safety hazard! Bu RT tak bisa membantah. ğŸ”¥" },
                    { text: "Kunci mati aja Bu, aman terkendali.", type: "strengthen", feedback: "Rasa aman palsu." },
                    { text: "Gemboknya merk apa yang kuat Bu?", type: "neutral", feedback: "Teknis gembok." },
                    { text: "Kalau mau beli bakso lewat mana dong Bu?", type: "neutral", feedback: "Prioritas bakso." }
                ]
            },
            {
                statement: "Warga wajib beli air galon merk 'Tirtasari' yang punyanya Bu Broto sepupu saya. Merk lain itu air mentah yang bikin sakit ginjal bu, bahaya banget. Buat keluarga itu pastikan yang aman-aman saja.",
                options: [
                    { text: "Semua merk air galon yang beredar di minimarket sudah lulus uji BPOM dan SNI, sehingga aman dikonsumsi dan tidak menyebabkan sakit ginjal ibu.", type: "weaken", feedback: "Regulasi resmi membantah tuduhan Bu RT. ğŸ”¥" },
                    { text: "Siap Bu, saya langganan 10 galon demi kesehatan.", type: "strengthen", feedback: "Anda korban marketing nepotisme." },
                    { text: "Segar banget emang airnya kalau dingin.", type: "neutral", feedback: "Testimoni rasa." },
                    { text: "Boleh ngutang dulu gak Bu bayarnya?", type: "neutral", feedback: "Kasbon." }
                ]
            },
            {
                statement: "Bu ibu, tau ngga tadi ada informasi di facebook kalau katanya anak-anak dilarang main HP di teras rumah. Bahaya, nanti radiasi sinyal HP bisa bikin tanaman hias di teras jadi layu dan mati.",
                options: [
                    { text: "Ibu, gelombang elektromagnetik pada HP adalah radiasi non-ionisasi yang energinya sangat kecil dan tidak memiliki efek biologis apapun terhadap sel tanaman.", type: "weaken", feedback: "Pelajaran fisika membungkam hoax. ğŸ”¥" },
                    { text: "Ngeri banget radiasinya Bu, lindungi tanaman kita!", type: "strengthen", feedback: "Ikut panik tanpa dasar." },
                    { text: "Anak saya mainnya iPad kok Bu, bukan HP.", type: "neutral", feedback: "Beda gadget doang." },
                    { text: "Tanaman saya layu karena lupa disiram seminggu sih Bu.", type: "neutral", feedback: "Pengakuan dosa." }
                ]
            },
            {
                statement: "Mulai sekarang hajatan nikahan dilarang pakai musik dangdut, bikin pusing. Harus ganti musik klasik dan musik jazz. Soalnya, tadi kata mbak meta, mendengarkan musik jazz bisa bikin pintar.",
                options: [
                    { text: "Kecerdasan seseorang dipengaruhi oleh nutrisi dan pendidikan, bukan oleh genre musik yang didengar saat kondangan tetangga, bu.", type: "weaken", feedback: "Korelasi ngawur berhasil dipatahkan. ğŸ”¥" },
                    { text: "Selera Ibu RT memang berkelas tinggi.", type: "strengthen", feedback: "Menjilat level dewa." },
                    { text: "Kalau makanannya bagusnya rendang atau ayam bakar Bu?", type: "neutral", feedback: "Fokus katering." },
                    { text: "Anak saya malah pengennya nyetel musik metal bu.", type: "neutral", feedback: "Selera ekstrem." }
                ]
            },
            {
                statement: "Semua genteng rumah wajib dicat hitam pekat biar komplek kita kelihatan elegan dan mewah seperti perumahan elit dan katanya genteng hitam bisa memantulkan panas matahari, jadi rumah kita adem.",
                options: [
                    { text: "Bu RT, warna hitam menyerap panas matahari paling tinggi, yang akan membuat suhu di dalam rumah warga menjadi sangat panas.", type: "weaken", feedback: "Hukum fisika dasar menyerang balik! ğŸ”¥" },
                    { text: "Pasti jadi estetik banget komplek kita Bu, kaya di Amerika-Amerika itu.", type: "strengthen", feedback: "Korban estetika." },
                    { text: "Toko cat yang diskon di mana ya?", type: "neutral", feedback: "Info diskon." },
                    { text: "Nanti dikira markas drakula dong Bu kalau hitam semua.", type: "neutral", feedback: "Ibu RT agak tersinggung." }
                ]
            },
            {
                statement: "Jadwal ronda malam saya ganti, isinya harus bapak-bapak usia 60 tahun ke atas saja. Orang tua lebih bijaksana menghadapi maling.",
                options: [
                    { text: "Ronda malam membutuhkan kesiapan fisik dan stamina prima untuk mengejar atau menangkap pelaku kejahatan, yang umumnya kurang dimiliki oleh lansia.", type: "weaken", feedback: "Realita lapangan vs Teori Bu RT. ğŸ”¥" },
                    { text: "Yang tua yang berpengalaman, setuju Bu.", type: "strengthen", feedback: "Hormat pada orang tua, tapi salah tempat." },
                    { text: "Bapak saya lagi sakit pinggang Bu.", type: "neutral", feedback: "Alasan kesehatan." },
                    { text: "Kalau malingnya lari, dikejarnya pakai kursi roda ya Bu?", type: "neutral", feedback: "Pertanyaan logis yang sarkas." }
                ]
            },
            {
                statement: "HATI-HATI! Ada sindikat penculik anak ambil ginjal menyamar jadi penjual es krim di komplek sebelah!! Waspada!!",
                options: [
                    { text: "Berita tersebut adalah hoaks lama tahun 2012 yang didaur ulang; kepolisian sudah mengkonfirmasi tidak ada kejadian penculikan di wilayah kita.", type: "weaken", feedback: "Anti-Hoax beraksi! ğŸ”¥" },
                    { text: "Ya ampun ngeri banget Bu, izin share ke grup keluarga!", type: "strengthen", feedback: "Penyebar kepanikan." },
                    { text: "Es krim rasa coklat enak sih.", type: "neutral", feedback: "Malah laper." },
                    { text: "Itu gambar tahun berapa buram banget kayak TV semut.", type: "neutral", feedback: "Kritikus resolusi gambar." }
                ]
            },
            {
                statement: "Uang kas warga bulan ini kita pakai semua untuk bikin patung selamat datang berbentuk wajah saya, biar tamu segan masuk sini.",
                options: [
                    { text: "Prioritas utama saat ini adalah perbaikan saluran got yang mampet penyebab banjir, yang dampaknya lebih krusial bagi warga dibanding pembangunan patung.", type: "weaken", feedback: "Skala prioritas yang benar! ğŸ”¥" },
                    { text: "Ibu RT memang ikon komplek ini, wajib diabadikan!", type: "strengthen", feedback: "Pemujaan tokoh." },
                    { text: "Patungnya nanti pakai bahan semen atau perunggu Bu?", type: "neutral", feedback: "Pertanyaan material." },
                    { text: "Segera cari pose yang cocok bu, biar RT kita terkenal.", type: "neutral", feedback: "Dukungan tanpa logika." }
                ]
            }
        ];

        // --- DATA SOAL KELUARGA (20 SOAL) ---
        // Misi: JANGAN Memperlemah (Strengthen/Neutral)
        // Correct Answer (THR): type 'strengthen'
        // Wrong Answer (No THR): type 'weaken'
        const bankSoalKeluarga = [
            {
                sender: "Tante",
                statement: "Kamu jangan beli saham atau kripto, mending beli emas batangan saja. Emas itu harganya naik terus tiap tahun dan fisiknya bisa dipegang, jadi lebih aman.",
                options: [
                    { text: "Data sejarah menunjukkan emas adalah aset safe haven yang paling stabil saat terjadi inflasi global.", type: "strengthen", feedback: "Tante: 'Tuh kan, Tante emang jago investasi!' THR aman. ğŸ’¸" },
                    { text: "Harga emas dunia sempat mengalami stagnasi selama beberapa tahun terakhir dibandingkan instrumen lain.", type: "weaken", feedback: "Tante cemberut: 'Kamu sok tau ekonomi'. THR berkurang. ğŸ“‰" },
                    { text: "Biaya penyimpanan emas di brankas bank cukup mahal dan mengurangi nilai keuntungan bersih.", type: "weaken", feedback: "Tante: 'Pelit amat sama biaya admin'. THR berkurang. ğŸ“‰" },
                    { text: "Likuiditas emas fisik lebih rendah karena butuh waktu untuk pergi ke toko emas jika butuh uang mendadak.", type: "weaken", feedback: "Tante: 'Emas itu tabungan masa depan bukan buat jajan!'. THR berkurang. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kuliah itu ambil Teknik Sipil atau Akuntansi saja. Zaman sekarang perusahaan cuma cari orang yang punya keahlian teknis jelas, daripada jurusan seni yang kerjanya nggak pasti.",
                options: [
                    { text: "Lowongan kerja untuk tenaga ahli infrastruktur dan audit keuangan selalu mendominasi portal pencarian kerja setiap tahunnya.", type: "strengthen", feedback: "Om: 'Nah, ini baru ponakan pintar!'. THR cair. ğŸ’¸" },
                    { text: "Banyak lulusan seni yang kini sukses menjadi pengusaha kreatif dengan penghasilan miliaran rupiah.", type: "weaken", feedback: "Om: 'Itu kan hoki-hokian doang'. THR melayang. ğŸ“‰" },
                    { text: "Kecerdasan emosional dan kreativitas kini lebih dihargai perusahaan besar daripada kemampuan menghitung manual.", type: "weaken", feedback: "Om tersinggung: 'Maksudmu Om gak kreatif?'. THR melayang. ğŸ“‰" },
                    { text: "Automasi AI diprediksi akan menggantikan peran akuntan dasar dalam 10 tahun ke depan.", type: "weaken", feedback: "Om: 'Jangan percaya robot!'. THR melayang. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Jangan sering minum air es pas lagi makan, nanti lemaknya membeku di perut dan bikin kamu buncit!",
                options: [
                    { text: "Beberapa orang merasa perutnya lebih begah dan terlihat membesar sesaat setelah mengonsumsi minuman dingin dalam jumlah banyak.", type: "strengthen", feedback: "Tante: 'Kan! Dibilangin ngeyel'. THR aman. ğŸ’¸" },
                    { text: "Suhu air yang masuk ke tubuh akan segera disesuaikan dengan suhu internal tubuh oleh sistem metabolisme.", type: "weaken", feedback: "Tante: 'Kamu kebanyakan teori buku'. THR berkurang. ğŸ“‰" },
                    { text: "Secara biologis, lemak hanya bisa dicerna melalui proses kimiawi enzim, bukan dibekukan oleh suhu air.", type: "weaken", feedback: "Tante: 'Tante lebih tau soal diet'. THR berkurang. ğŸ“‰" },
                    { text: "Minum air dingin justru sedikit membakar kalori karena tubuh bekerja ekstra untuk menghangatkan air tersebut.", type: "weaken", feedback: "Tante: 'Alasan aja biar minum es terus'. THR berkurang. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Anak muda itu harus bangun jam 5 subuh. Kalau bangun siang, rejekinya dipatok ayam, makanya kamu sampai sekarang belum kaya-kaya.",
                options: [
                    { text: "Survei menunjukkan orang yang bangun lebih pagi memiliki waktu lebih banyak untuk merencanakan strategi kerja harian.", type: "strengthen", feedback: "Om: 'Mantap, tiru semangat Om!'. THR cair. ğŸ’¸" },
                    { text: "Banyak miliarder teknologi yang justru bekerja produktif di malam hari dan baru tidur setelah subuh.", type: "weaken", feedback: "Om: 'Itu kan di Amerika, beda jam!'. THR seret. ğŸ“‰" },
                    { text: "Kesuksesan finansial lebih dipengaruhi oleh manajemen aset dan jejaring daripada jam bangun tidur.", type: "weaken", feedback: "Om: 'Jangan ngajarin orang tua'. THR seret. ğŸ“‰" },
                    { text: "Jam biologis setiap orang berbeda-beda, ada yang lebih efektif bekerja di siang hari.", type: "weaken", feedback: "Om: 'Alasan pemalas!'. THR seret. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Ngapain kuliah jauh-jauh ke luar negeri? Di sini saja, nanti kalau di sana kamu lupa sama budaya sendiri dan nggak mau pulang.",
                options: [
                    { text: "Beberapa survei menunjukkan adanya fenomena culture shock yang membuat perantau merasa nyaman dengan gaya hidup negara baru dan enggan kembali.", type: "strengthen", feedback: "Tante: 'Tuh kan bener, bahaya pergaulan bebas'. THR cair. ğŸ’¸" },
                    { text: "Mahasiswa luar negeri justru sering mengadakan festival budaya Indonesia untuk memperkenalkan tradisi kita.", type: "weaken", feedback: "Tante: 'Halah, paling cuma setahun sekali'. THR -20%. ğŸ“‰" },
                    { text: "Lulusan luar negeri memiliki daya saing yang lebih tinggi di pasar kerja global.", type: "weaken", feedback: "Tante: 'Kerja di sini juga bisa kaya kok'. THR -20%. ğŸ“‰" },
                    { text: "Beasiswa ke luar negeri memberikan tunjangan yang sangat mencukupi.", type: "weaken", feedback: "Tante: 'Uang bukan segalanya nak'. THR -20%. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Jangan taruh HP dekat tanaman hias Om, nanti sinyal radiasinya bikin daunnya layu. Ini tanaman mahal!",
                options: [
                    { text: "Komponen elektronik pada HP mengeluarkan panas yang dapat mempengaruhi suhu mikro di sekitar daun tanaman yang sensitif.", type: "strengthen", feedback: "Om: 'Nah, kamu ngerti kan!'. THR aman. ğŸ’¸" },
                    { text: "Gelombang radio pada HP adalah radiasi non-ionisasi yang energinya terlalu lemah untuk merusak sel tumbuhan.", type: "weaken", feedback: "Om: 'Jangan sok profesor deh'. THR bye-bye. ğŸ“‰" },
                    { text: "Tanaman membutuhkan sinar matahari dan air untuk fotosintesis, bukan dipengaruhi oleh frekuensi seluler.", type: "weaken", feedback: "Om: 'Tanaman Om beda, sensitif!'. THR bye-bye. ğŸ“‰" },
                    { text: "Tidak ada bukti ilmiah yang mendukung bahwa sinyal 4G dapat menghambat pertumbuhan klorofil.", type: "weaken", feedback: "Om: 'Ilmuwan belum neliti tanaman Om aja'. THR bye-bye. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Kamu kalau makan nggak pakai nasi itu namanya belum makan. Karbohidrat dari roti itu nggak bikin kenyang, cuma lewat doang di tenggorokan.",
                options: [
                    { text: "Nasi memiliki kepadatan tekstur yang memicu peregangan dinding lambung secara lebih intens, sinyal utama bagi otak untuk merasa kenyang.", type: "strengthen", feedback: "Tante: 'Pinter kamu, ayo tambah nasinya'. THR +++. ğŸ’¸" },
                    { text: "Roti gandum memiliki kandungan serat yang lebih tinggi sehingga memberikan rasa kenyang yang lebih lama daripada nasi.", type: "weaken", feedback: "Tante: 'Serat apaan, kayak makan kertas'. THR turun. ğŸ“‰" },
                    { text: "Rasa kenyang adalah sinyal hormonal dari otak yang tidak bergantung pada jenis sumber karbohidratnya.", type: "weaken", feedback: "Tante: 'Teori melulu, makan tuh nasi'. THR turun. ğŸ“‰" },
                    { text: "Masyarakat di negara barat tetap bisa beraktivitas berat meskipun hanya mengonsumsi kentang.", type: "weaken", feedback: "Tante: 'Kita orang Indo bukan londo'. THR turun. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Cari istri itu yang dekat-dekat saja, kalau bisa tetangga satu komplek atau anak teman Om. Biar bibit, bebet, bobotnya jelas dan nggak ribet kalau mudik.",
                options: [
                    { text: "Memahami latar belakang keluarga calon pasangan secara mendalam dapat meminimalisir risiko konflik nilai antar keluarga besar.", type: "strengthen", feedback: "Om: 'Cerdas! Nanti Om kenalin anak Pak RT'. THR cair. ğŸ’¸" },
                    { text: "Menikah dengan orang dari latar belakang budaya yang berbeda dapat memperkaya perspektif dan keturunan.", type: "weaken", feedback: "Om: 'Ribet urusan adat nanti!'. THR batal. ğŸ“‰" },
                    { text: "Mudik jarak jauh kini semakin mudah dengan banyaknya pilihan transportasi udara dan jalan tol.", type: "weaken", feedback: "Om: 'Tiket pesawat mahal tau!'. THR batal. ğŸ“‰" },
                    { text: "Jodoh adalah rahasia Tuhan yang tidak bisa dibatasi oleh sekat geografis.", type: "weaken", feedback: "Om: 'Jangan ceramahin Om'. THR batal. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Kamu itu sarjana hukum kenapa nggak kerja di bank saja? Seragamnya rapi, kantornya adem, setiap bulan gajinya pasti. Itu baru namanya sukses.",
                options: [
                    { text: "Sektor perbankan menawarkan jenjang karier yang terstruktur serta berbagai jaminan tunjangan kesehatan bagi karyawannya.", type: "strengthen", feedback: "Tante: 'Tuh dengerin, segera lamar sana'. THR aman. ğŸ’¸" },
                    { text: "Menjadi pengacara mandiri memberikan kebebasan waktu dan potensi penghasilan yang tidak terbatas.", type: "weaken", feedback: "Tante: 'Penghasilan gak pasti kok bangga'. THR seret. ğŸ“‰" },
                    { text: "Banyak pegawai bank yang merasa stres karena target bulanan yang sangat tinggi.", type: "weaken", feedback: "Tante: 'Namanya kerja ya capek'. THR seret. ğŸ“‰" },
                    { text: "Di era digital, banyak fungsi perbankan yang mulai digantikan oleh aplikasi, risiko PHK tinggi.", type: "weaken", feedback: "Tante: 'Jangan nakut-nakutin Tante'. THR seret. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kalau masuk angin itu jangan minum obat kimia, mending kerokan saja sampai merah. Itu tandanya anginnya keluar semua dari pori-pori.",
                options: [
                    { text: "Gesekan pada kulit saat kerokan memicu pelepasan endorfin yang memberikan efek relaksasi dan kenyamanan pada tubuh.", type: "strengthen", feedback: "Om: 'Nah, badan langsung enteng kan?'. THR cair. ğŸ’¸" },
                    { text: "Warna merah pada kulit saat dikerok adalah pecahnya pembuluh darah kapiler, bukan gas angin.", type: "weaken", feedback: "Om: 'Sok tau kamu dokter juga bukan'. THR tahan dulu. ğŸ“‰" },
                    { text: "Terlalu sering kerokan dapat membuat pori-pori kulit membesar dan memudahkan bakteri masuk.", type: "weaken", feedback: "Om: 'Om dari dulu kerokan sehat aja tuh'. THR tahan dulu. ğŸ“‰" },
                    { text: "Masuk angin secara medis biasanya merujuk pada gejala dispepsia atau infeksi virus ringan.", type: "weaken", feedback: "Om: 'Istilah medis bikin pusing'. THR tahan dulu. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Main game terus! Itu cuma buang-buang waktu. Mending waktunya dipakai buat bantu Tante masak atau baca buku biar pintar.",
                options: [
                    { text: "Menghabiskan waktu berjam-jam di depan layar tanpa aktivitas fisik dapat menurunkan tingkat konsentrasi dan stamina tubuh.", type: "strengthen", feedback: "Tante: 'Dengerin tuh, jangan HP teroos'. THR cair. ğŸ’¸" },
                    { text: "Bermain game strategi terbukti dapat meningkatkan kemampuan pengambilan keputusan.", type: "weaken", feedback: "Tante: 'Keputusan apa? Keputusan kalah?'. THR potong. ğŸ“‰" },
                    { text: "Industri e-sports kini menawarkan hadiah jutaan dolar bagi pemain profesional.", type: "weaken", feedback: "Tante: 'Halah, paling kamu cuma buang kuota'. THR potong. ğŸ“‰" },
                    { text: "Game edukasi dapat membantu anak-anak belajar bahasa asing dengan cara menyenangkan.", type: "weaken", feedback: "Tante: 'Belajar ya di sekolah'. THR potong. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Mobil itu harus manual. Lebih irit, lebih bertenaga, dan kalau mogok bisa didorong. Mobil matic itu buat orang malas.",
                options: [
                    { text: "Komponen kopling pada transmisi manual umumnya memiliki masa pakai yang lebih lama dan biaya perawatan yang lebih ekonomis.", type: "strengthen", feedback: "Om: 'Lelaki sejati pakainya tiga pedal!'. THR cair. ğŸ’¸" },
                    { text: "Teknologi transmisi matic modern saat ini sudah jauh lebih efisien dalam konsumsi bahan bakar.", type: "weaken", feedback: "Om: 'Ah, teori marketing itu'. THR gagal. ğŸ“‰" },
                    { text: "Menggunakan mobil matic di kemacetan kota besar sangat membantu mengurangi kelelahan fisik.", type: "weaken", feedback: "Om: 'Manja amat jadi orang'. THR gagal. ğŸ“‰" },
                    { text: "Nilai jual kembali mobil matic di kota-kota besar cenderung lebih stabil karena permintaan tinggi.", type: "weaken", feedback: "Om: 'Om gak niat jual mobil'. THR gagal. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Kalau mau kulit putih dan nggak gampang sakit, minum vitamin C dosis tinggi tiap hari. Tante saja minum yang 1000mg terus.",
                options: [
                    { text: "Vitamin C berperan penting dalam sintesis kolagen yang menjaga integritas jaringan kulit dan fungsi sistem kekebalan tubuh.", type: "strengthen", feedback: "Tante: 'Tuh kan, Tante awet muda gara-gara ini'. THR cair. ğŸ’¸" },
                    { text: "Kelebihan vitamin C dalam tubuh akan dibuang melalui urine sehingga konsumsi berlebih menjadi sia-sia.", type: "weaken", feedback: "Tante: 'Mahal-mahal dibuang pipis? Ngawur kamu'. THR minus. ğŸ“‰" },
                    { text: "Konsumsi vitamin C dosis tinggi jangka panjang tanpa air cukup dapat memicu batu ginjal.", type: "weaken", feedback: "Tante: 'Jangan doain Tante sakit dong!'. THR minus. ğŸ“‰" },
                    { text: "Warna kulit seseorang lebih banyak dipengaruhi oleh faktor genetik daripada vitamin.", type: "weaken", feedback: "Tante: 'Kamu bilang Tante item?'. THR minus. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Jangan cicil mobil dulu, mending uangnya buat DP rumah. Harga tanah naik terus, kalau mobil harganya turun terus begitu keluar dari dealer.",
                options: [
                    { text: "Laju kenaikan harga properti di wilayah perkotaan rata-rata melampaui tingkat kenaikan gaji tahunan karyawan.", type: "strengthen", feedback: "Om: 'Investasi cerdas ya properti'. THR tebal. ğŸ’¸" },
                    { text: "Cicilan rumah jangka panjang memiliki bunga yang fluktuatif dan bisa sangat membebani pengeluaran.", type: "weaken", feedback: "Om: 'Hidup harus berani spekulasi'. THR tipis. ğŸ“‰" },
                    { text: "Mobil merupakan aset produktif yang sangat dibutuhkan untuk menunjang mobilitas pekerjaan.", type: "weaken", feedback: "Om: 'Naik angkot kan bisa'. THR tipis. ğŸ“‰" },
                    { text: "Membeli rumah di lokasi jauh dari tempat kerja justru menambah biaya transportasi harian.", type: "weaken", feedback: "Om: 'Nanti juga daerah sana rame'. THR tipis. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Minum susu kental manis itu sehat, bikin anak gemuk dan kuat. Dulu Om kamu kecilnya minum itu terus makanya sekarang badannya besar.",
                options: [
                    { text: "Susu kental manis masih mengandung kalsium dan sejumlah vitamin yang berkontribusi pada asupan nutrisi harian.", type: "strengthen", feedback: "Tante: 'Generasi dulu kuat-kuat kok'. THR aman. ğŸ’¸" },
                    { text: "Susu kental manis memiliki kandungan gula yang sangat tinggi dan kadar protein yang sangat rendah.", type: "weaken", feedback: "Tante: 'Jangan percaya hoax internet'. THR bahaya. ğŸ“‰" },
                    { text: "Kegemukan pada anak akibat gula berlebih meningkatkan risiko diabetes dini.", type: "weaken", feedback: "Tante: 'Gemuk itu tandanya makmur'. THR bahaya. ğŸ“‰" },
                    { text: "BPOM telah menyatakan bahwa kental manis tidak boleh digunakan sebagai pengganti susu.", type: "weaken", feedback: "Tante: 'BPOM lebay'. THR bahaya. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kalau ke acara keluarga itu pakai Batik. Kelihatan sopan dan menghargai orang tua. Jangan pakai kaos oblong, kayak orang mau ke pasar.",
                options: [
                    { text: "Penggunaan batik dalam acara resmi memberikan kesan penghormatan terhadap nilai budaya dan tradisi keluarga.", type: "strengthen", feedback: "Om: 'Nah, ini baru budaya timur'. THR cair. ğŸ’¸" },
                    { text: "Kaos oblong dari brand mewah saat ini sudah dianggap sebagai gaya busana yang layak.", type: "weaken", feedback: "Om: 'Mahal doang tapi gak sopan'. THR bye. ğŸ“‰" },
                    { text: "Kenyamanan berpakaian jauh lebih penting daripada sekadar mengikuti standar kesopanan.", type: "weaken", feedback: "Om: 'Kamu mau nyaman apa mau sopan?'. THR bye. ğŸ“‰" },
                    { text: "Penggunaan batik di cuaca panas sering kali membuat pemakainya merasa gerah.", type: "weaken", feedback: "Om: 'AC kan dingin, alesan aja'. THR bye. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Masakan Tante nggak pakai banyak garam. Garam itu sumber darah tinggi, nanti kamu cepat marah-marah kalau kebanyakan makan garam.",
                options: [
                    { text: "Kelebihan asupan natrium dapat menyebabkan retensi cairan yang meningkatkan tekanan pada dinding pembuluh darah.", type: "strengthen", feedback: "Tante: 'Tante emang peduli kesehatan keluarga'. THR aman. ğŸ’¸" },
                    { text: "Natrium dalam garam sangat dibutuhkan tubuh untuk mengatur keseimbangan cairan dan saraf.", type: "weaken", feedback: "Tante: 'Kamu mau stroke muda?'. THR zonk. ğŸ“‰" },
                    { text: "Tekanan darah tinggi lebih banyak disebabkan oleh faktor genetik dan stres.", type: "weaken", feedback: "Tante: 'Genetik keluarga kita bagus ya!'. THR zonk. ğŸ“‰" },
                    { text: "Tanpa garam yang cukup, rasa masakan akan menjadi hambar dan menurunkan nafsu makan.", type: "weaken", feedback: "Tante: 'Bilang aja masakan Tante gak enak!'. THR zonk. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kamu buka usaha laundry saja di dekat kampus. Mahasiswa itu malas nyuci, pasti laku keras dan uangnya ngalir terus tiap hari.",
                options: [
                    { text: "Kebutuhan akan jasa pencucian pakaian merupakan kebutuhan dasar bagi mahasiswa yang memiliki keterbatasan waktu.", type: "strengthen", feedback: "Om: 'Om modalin deh kalau kamu mau'. THR jackpot. ğŸ’¸" },
                    { text: "Persaingan bisnis laundry di area kampus sudah sangat jenuh dengan perang harga.", type: "weaken", feedback: "Om: 'Kamu belum coba udah nyerah'. THR gagal. ğŸ“‰" },
                    { text: "Kenaikan harga bahan baku dan listrik membuat margin laba laundry sangat tipis.", type: "weaken", feedback: "Om: 'Bisnis itu ada risikonya'. THR gagal. ğŸ“‰" },
                    { text: "Mahasiswa saat ini lebih memilih menggunakan jasa laundry koin mandiri.", type: "weaken", feedback: "Om: 'Mahal itu alatnya'. THR gagal. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Jangan cuci mobil malam-malam, nanti catnya cepat pudar karena kena embun. Lagian nggak baik buat kesehatan.",
                options: [
                    { text: "Sisa air yang terjebak di sela-sela bodi mobil pada malam hari dapat mempercepat timbulnya bercak jamur dan korosi.", type: "strengthen", feedback: "Tante: 'Tuh kan, nurut sama orang tua'. THR cair. ğŸ’¸" },
                    { text: "Mencuci mobil di bawah terik matahari justru lebih berisiko merusak cat.", type: "weaken", feedback: "Tante: 'Siapa suruh cuci pas siang bolong?'. THR seret. ğŸ“‰" },
                    { text: "Cat mobil modern sudah dilengkapi dengan lapisan clear coat yang tahan embun.", type: "weaken", feedback: "Tante: 'Mobil Om kamu rusak tuh catnya'. THR seret. ğŸ“‰" },
                    { text: "Mencuci mobil malam hari lebih efisien air karena penguapan rendah.", type: "weaken", feedback: "Tante: 'Hemat air tapi sakit buat apa?'. THR seret. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kita mudik H-7 saja sebelum lebaran. Biar nggak kena macet parah dan bisa lebih lama kangen-kangenan di kampung.",
                options: [
                    { text: "Melakukan perjalanan lebih awal memberikan waktu pemulihan fisik yang cukup bagi keluarga sebelum lebaran.", type: "strengthen", feedback: "Om: 'Sip, packing mulai sekarang!'. THR cair. ğŸ’¸" },
                    { text: "Kebijakan cuti bersama biasanya baru dimulai H-3, jadi butuh cuti tambahan.", type: "weaken", feedback: "Om: 'Kerja mulu kapan senengnya'. THR batal. ğŸ“‰" },
                    { text: "Harga tiket transportasi umum mengalami lonjakan harga signifikan H-7.", type: "weaken", feedback: "Om: 'Om bayarin! (tapi bohong)'. THR batal. ğŸ“‰" },
                    { text: "Banyak proyek pekerjaan yang deadline-nya tepat sebelum libur.", type: "weaken", feedback: "Om: 'Alasan aja kamu gak mau ketemu Om'. THR batal. ğŸ“‰" }
                ]
            }
        ];

        // --- GAME LOGIC ---
        
        let currentGameMode = 'rt'; // 'rt' or 'keluarga'
        let gameQuestions = [];
        let currentLevel = 0;
        let score = 0; // Annoyance for RT, THR for Keluarga
        const totalQuestionsPerSession = 5;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // 1. BRIEFING & SELECT MODE
        function showBriefing(mode) {
            currentGameMode = mode;
            document.getElementById('modal-briefing').classList.remove('hidden');
            
            const titleEl = document.getElementById('mission-title');
            const contentEl = document.getElementById('mission-content');
            
            if (mode === 'rt') {
                // Set Briefing RT
                titleEl.innerText = "Misi: Wakil Suara Warga";
                titleEl.className = "text-lg font-bold";
                contentEl.innerHTML = `
                    <p class="text-gray-700 leading-relaxed mb-4 text-sm md:text-base">
                        Warga resah dengan kelakuan <span class="font-bold text-pink-600">Ibu RT</span> yang otoriter.
                    </p>
                    <div class="bg-red-50 p-4 rounded-lg mb-4 text-sm border-l-4 border-red-500">
                        <p class="font-semibold text-gray-800 mb-1 italic">Tugas Anda:</p>
                        <ul class="list-disc ml-4 space-y-1 text-gray-600">
                            <li>Lawan 5 opini Ibu RT.</li>
                            <li>Pilih jawaban yang <span class="font-bold text-red-600">MEMPERLEMAH (Weaken)</span> argumennya.</li>
                            <li>Target: Bikin Ibu RT Kesal (Score 100%)!</li>
                        </ul>
                    </div>
                `;
            } else {
                // Set Briefing Keluarga
                titleEl.innerText = "Misi: Demi THR Lebaran";
                titleEl.className = "text-lg font-bold text-yellow-100";
                contentEl.innerHTML = `
                    <p class="text-gray-700 leading-relaxed mb-4 text-sm md:text-base">
                        Lebaran sebentar lagi. Om dan Tante sedang aktif membagikan "info-info" di grup.
                    </p>
                    <div class="bg-green-50 p-4 rounded-lg mb-4 text-sm border-l-4 border-green-500">
                        <p class="font-semibold text-gray-800 mb-1 italic">Tugas Anda:</p>
                        <ul class="list-disc ml-4 space-y-1 text-gray-600">
                            <li>Hadapi 5 pernyataan Om/Tante.</li>
                            <li>Pilih jawaban yang <span class="font-bold text-green-600">TIDAK MEMPERLEMAH</span> (Setuju/Netral).</li>
                            <li>Jangan membantah! Nanti dicoret dari daftar penerima THR.</li>
                            <li>Target: Kumpulkan THR (Score 100%)!</li>
                        </ul>
                    </div>
                `;
            }
        }

        // 2. SETUP GAME SCREEN
        function startGame() {
            document.getElementById('modal-briefing').classList.add('hidden');
            document.getElementById('screen-home').classList.add('hidden');
            document.getElementById('screen-game').classList.remove('hidden');
            
            // Reset State
            score = 0;
            currentLevel = 0;
            document.getElementById('dynamic-messages').innerHTML = '';
            
            // Setup Visuals based on Mode
            const avatar = document.getElementById('game-avatar');
            const title = document.getElementById('game-title');
            const members = document.getElementById('game-members');
            const scoreLabel = document.getElementById('score-label');
            const bar = document.getElementById('bar-score');
            const intro = document.getElementById('game-intro');
            const hint = document.getElementById('options-hint');

            if (currentGameMode === 'rt') {
                // Load Soal RT
                const shuffled = shuffleArray([...bankSoalRT]); 
                gameQuestions = shuffled.slice(0, totalQuestionsPerSession);
                
                // Visual RT
                avatar.src = "https://images.unsplash.com/photo-1560717845-968823efbee1?auto=format&fit=crop&w=150&q=80";
                title.innerText = "Grup Warga Komplek Berkah";
                members.innerText = "Ibu RT, Pak RW, Anda...";
                scoreLabel.innerText = "ğŸ”¥ KEKESALAN";
                bar.className = "progress-bar h-full bg-gradient-to-r from-orange-400 to-red-600";
                intro.innerText = "Misi: Patahkan Argumen Ibu RT!";
                hint.innerText = "Pilih Balasan (Target: Perlemah)";
            } else {
                // Load Soal Keluarga
                const shuffled = shuffleArray([...bankSoalKeluarga]);
                gameQuestions = shuffled.slice(0, totalQuestionsPerSession);

                // Visual Keluarga
                avatar.src = "https://api.dicebear.com/7.x/avataaars/svg?seed=Grandpa&backgroundColor=b6e3f4";
                title.innerText = "Keluarga Besar (Haji Somad)";
                members.innerText = "Om Agus, Tante Yuni, Anda...";
                scoreLabel.innerText = "ğŸ’¸ THR METER";
                bar.className = "progress-bar h-full bg-gradient-to-r from-yellow-400 to-green-600";
                intro.innerText = "Misi: Cari Muka Demi THR!";
                hint.innerText = "Pilih Balasan (Target: JANGAN Memperlemah)";
            }

            updateScoreBar();
            initLevel();
        }

        function backToHome() {
            document.getElementById('screen-home').classList.remove('hidden');
            document.getElementById('screen-game').classList.add('hidden');
            document.getElementById('overlay').classList.add('hidden');
        }

        // 3. GAME LOOP
        function initLevel() {
            // Check End Game
            if (currentLevel >= gameQuestions.length) {
                checkFinalResult();
                return;
            }
            // Khusus RT: kalau score 100 langsung menang (dikick)
            if (currentGameMode === 'rt' && score >= 100) {
                checkFinalResult();
                return;
            }
            // Khusus Keluarga: Tidak ada auto-win di tengah jalan, harus survive sampai akhir

            const indicator = document.getElementById('typing-indicator');
            const senderName = currentGameMode === 'rt' ? 'Ibu RT' : gameQuestions[currentLevel].sender;
            
            indicator.innerText = `${senderName} sedang mengetik...`;
            indicator.classList.remove('hidden');
            
            setTimeout(() => {
                indicator.classList.add('hidden');
                addMessage(gameQuestions[currentLevel].statement, 'left', senderName);
                showOptions();
            }, 1000);
        }

        function addMessage(text, side, sender) {
            const container = document.getElementById('dynamic-messages');
            const div = document.createElement('div');
            div.className = `bubble-${side} p-3 max-w-[85%] shadow-sm self-${side === 'left' ? 'start' : 'end'} message-anim`;
            
            const color = side === 'left' ? 'text-purple-600' : 'text-green-600';
            const senderName = side === 'left' ? sender : 'Anda';
            
            div.innerHTML = `
                <p class="text-[10px] font-bold ${color} mb-1">${senderName}</p>
                <p class="text-sm text-gray-800">${text}</p>
                <span class="text-[9px] text-gray-500 float-right mt-1">${new Date().getHours()}:${String(new Date().getMinutes()).padStart(2, '0')}</span>
            `;
            container.appendChild(div);
            const chatCont = document.getElementById('chat-container');
            setTimeout(() => { chatCont.scrollTo({ top: chatCont.scrollHeight, behavior: 'smooth' }); }, 50);
        }

        function showOptions() {
            const grid = document.getElementById('options-grid');
            grid.innerHTML = '';
            
            let currentOptions = [...gameQuestions[currentLevel].options];
            currentOptions = shuffleArray(currentOptions);

            currentOptions.forEach((opt) => {
                const btn = document.createElement('button');
                btn.className = "bg-white p-3 rounded-lg text-xs text-left border border-gray-200 hover:bg-green-50 active:bg-green-100 transition shadow-sm text-gray-700 font-medium active:scale-95 transform duration-100";
                btn.innerText = opt.text;
                btn.onclick = () => handleChoice(opt);
                grid.appendChild(btn);
            });
        }

        function handleChoice(option) {
            document.getElementById('options-grid').innerHTML = '';
            addMessage(option.text, 'right');

            setTimeout(() => {
                // --- SCORING LOGIC ---
                if (currentGameMode === 'rt') {
                    // RT: Weaken = Good (+), Strengthen/Neutral = Bad (-)
                    if (option.type === 'weaken') score += 25;
                    else if (option.type === 'strengthen') score = Math.max(0, score - 10);
                } else {
                    // KELUARGA: Weaken = Bad (-), Strengthen/Neutral = Good (+)
                    if (option.type === 'weaken') {
                        score = Math.max(0, score - 20); // Kritik mengurangi THR
                    } else {
                        // Strengthen atau Neutral menambah THR
                        score += 20; 
                    }
                }

                updateScoreBar();
                
                const sysDiv = document.createElement('div');
                sysDiv.className = "bg-white/70 text-gray-600 text-[10px] p-2 rounded-full self-center px-4 shadow-sm italic text-center max-w-[80%] border border-gray-200 mt-2 mb-4";
                sysDiv.innerText = option.feedback;
                document.getElementById('dynamic-messages').appendChild(sysDiv);
                
                const chatCont = document.getElementById('chat-container');
                setTimeout(() => { chatCont.scrollTo({ top: chatCont.scrollHeight, behavior: 'smooth' }); }, 50);

                currentLevel++;
                setTimeout(initLevel, 1500);
            }, 500);
        }

        function updateScoreBar() {
            const val = Math.min(100, score);
            document.getElementById('bar-score').style.width = val + "%";
            document.getElementById('score-text').innerText = val + "%";
        }

        function checkFinalResult() {
            const overlay = document.getElementById('overlay');
            const title = document.getElementById('result-title');
            const desc = document.getElementById('result-desc');
            const icon = document.getElementById('result-icon');

            overlay.classList.remove('hidden');

            if (currentGameMode === 'rt') {
                if (score >= 100) {
                    icon.innerText = "ğŸš«";
                    title.innerText = "ANDA DIKICK!";
                    desc.innerText = `MISI BERHASIL! Anda membuat Ibu RT emosi sampai ke ubun-ubun dengan fakta logis. Warga merayakan kebebasan!`;
                } else {
                    icon.innerText = "ğŸ˜";
                    title.innerText = "GAGAL DIKICK";
                    desc.innerText = `Skor Kekesalan hanya ${score}%. Anda kurang kritis! Coba lagi serang argumennya!`;
                }
            } else {
                // Mode Keluarga
                if (score >= 80) {
                    icon.innerText = "ğŸ’°";
                    title.innerText = "THR CAIR!";
                    desc.innerText = `SELAMAT! Anda berhasil menjadi keponakan kesayangan. THR tebal siap masuk dompet. Idealisme tergadai, tapi perut kenyang!`;
                } else {
                    icon.innerText = "ğŸ˜­";
                    title.innerText = "DICORET DARI KK";
                    desc.innerText = `Skor THR hanya ${score}%. Anda terlalu banyak membantah Om dan Tante. Lebaran tahun ini Anda cuma dapat rengginang.`;
                }
            }
        }
    </script>
</body>
</html>
