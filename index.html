<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Game Penalaran Umum</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f0f2f5;
            height: 100dvh; 
        }

        .whatsapp-green { background-color: #075e54; }
        .whatsapp-light-green { background-color: #25d366; }
        .chat-bg { background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); background-color: #e5ddd5; }
        .bubble-left { position: relative; background: white; border-radius: 0 12px 12px 12px; }
        .bubble-left::after { content: ''; position: absolute; left: -10px; top: 0; width: 0; height: 0; border: 10px solid transparent; border-right-color: white; border-top-color: white; }
        .bubble-right { position: relative; background: #dcf8c6; border-radius: 12px 0 12px 12px; }
        .bubble-right::after { content: ''; position: absolute; right: -10px; top: 0; width: 0; height: 0; border: 10px solid transparent; border-left-color: #dcf8c6; border-top-color: #dcf8c6; }
        .progress-bar { transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        .message-anim { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        #options-panel::-webkit-scrollbar { width: 4px; }
        #options-panel::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 4px; }
    </style>
</head>
<body class="overflow-hidden flex flex-col">

    <!-- HALAMAN UTAMA (LIST CHAT) -->
    <div id="screen-home" class="h-full flex flex-col w-full">
        <div class="whatsapp-green text-white p-4 shadow-md shrink-0">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-xl font-semibold">WhatsApp</h1>
                <div class="flex space-x-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" /></svg>
                </div>
            </div>
            <div class="flex space-x-6 text-sm font-medium uppercase opacity-80">
                <span class="pb-2 border-b-2 border-white">Chat</span>
                <span>Status</span>
                <span>Panggilan</span>
            </div>
        </div>

        <div class="flex-grow overflow-y-auto bg-white">
            <!-- Grup Utama (RT) -->
            <div onclick="showBriefing('rt')" class="flex items-center p-4 hover:bg-gray-100 cursor-pointer border-b border-gray-100 transition active:bg-gray-200">
                <div class="w-14 h-14 bg-pink-100 rounded-full flex-shrink-0 mr-4 overflow-hidden border">
                    <img src="https://images.unsplash.com/photo-1560717845-968823efbee1?auto=format&fit=crop&w=150&q=80" alt="Bunga" class="w-full h-full object-cover">
                </div>
                <div class="flex-grow min-w-0">
                    <div class="flex justify-between">
                        <h3 class="font-bold text-gray-800 truncate">Grup Warga Komplek Berkah</h3>
                        <span class="text-xs text-green-500 whitespace-nowrap ml-2">08:00</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">Ibu RT: PENGUMUMAN PENTING!!! Baca...</p>
                </div>
            </div>

            <!-- Grup Baru (Keluarga) -->
            <div onclick="showBriefing('keluarga')" class="flex items-center p-4 hover:bg-gray-100 cursor-pointer border-b border-gray-100 transition active:bg-gray-200">
                <div class="w-14 h-14 bg-blue-100 rounded-full flex-shrink-0 mr-4 flex items-center justify-center border overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Grandpa&backgroundColor=b6e3f4" alt="Keluarga" class="w-full h-full">
                </div>
                <div class="flex-grow min-w-0">
                    <div class="flex justify-between">
                        <h3 class="font-bold text-gray-800">Keluarga Besar (Haji Somad)</h3>
                        <span class="text-xs text-green-500 whitespace-nowrap ml-2">07:30</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">Om Agus: Share info kesehatan...</p>
                </div>
            </div>

            <!-- Grup Baru (Alumni) -->
            <div onclick="showBriefing('alumni')" class="flex items-center p-4 hover:bg-gray-100 cursor-pointer border-b border-gray-100 transition active:bg-gray-200">
                <div class="w-14 h-14 bg-purple-100 rounded-full flex-shrink-0 mr-4 flex items-center justify-center border overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Siska&backgroundColor=e9d5ff" alt="Alumni" class="w-full h-full">
                </div>
                <div class="flex-grow min-w-0">
                    <div class="flex justify-between">
                        <h3 class="font-bold text-gray-800">Alumni SMA Kenanga (Julid)</h3>
                        <span class="text-xs text-green-500 whitespace-nowrap ml-2">09:15</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">Siska: Guys, si Roni fix sukses!</p>
                </div>
            </div>

            <!-- Grup Baru (Panitia Pensi / Asumsi) -->
            <div onclick="showBriefing('asumsi')" class="flex items-center p-4 hover:bg-gray-100 cursor-pointer border-b border-gray-100 transition active:bg-gray-200">
                <div class="w-14 h-14 bg-orange-100 rounded-full flex-shrink-0 mr-4 flex items-center justify-center border overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=ffedd5" alt="Panitia" class="w-full h-full">
                </div>
                <div class="flex-grow min-w-0">
                    <div class="flex justify-between">
                        <h3 class="font-bold text-gray-800">Panitia CAMPUS GOES TO SCHOOL 2026</h3>
                        <span class="text-xs text-green-500 whitespace-nowrap ml-2">10:00</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">Ketua Panitia: CGTS tahun ini harus internasional!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DESKRIPSI MISI -->
    <div id="modal-briefing" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-6 hidden">
        <div class="bg-white rounded-2xl max-w-md w-full overflow-hidden shadow-2xl flex flex-col max-h-[90vh]">
            <div class="whatsapp-green p-4 text-white shrink-0">
                <h2 id="mission-title" class="text-lg font-bold">Misi</h2>
            </div>
            <div class="p-6 overflow-y-auto">
                <div id="mission-content">
                    <!-- Konten misi akan diisi via JS -->
                </div>
                <button onclick="startGame()" class="w-full whatsapp-light-green text-white font-bold py-3 rounded-xl hover:shadow-lg transition mt-4">Mulai Chat!</button>
            </div>
        </div>
    </div>

    <!-- HALAMAN GAME (CHAT) -->
    <div id="screen-game" class="h-full flex flex-col hidden w-full">
        <!-- Header Chat -->
        <div class="whatsapp-green text-white p-3 flex items-center shadow-md shrink-0 z-10">
            <button onclick="backToHome()" class="mr-2 p-1 hover:bg-white/10 rounded-full">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
            </button>
            <div class="w-9 h-9 md:w-10 md:h-10 rounded-full mr-2 md:mr-3 overflow-hidden border-2 border-white/50 shrink-0">
                <img id="game-avatar" src="" alt="Avatar" class="w-full h-full object-cover">
            </div>
            <div class="flex-grow mr-2 min-w-0">
                <h1 id="game-title" class="font-bold text-sm truncate">Nama Grup</h1>
                <p id="game-members" class="text-[10px] text-green-200 truncate">Anggota...</p>
            </div>
            <!-- BAR SCORE (Dinamis) -->
            <div class="flex flex-col items-end w-[35%] max-w-[150px] shrink-0">
                <div class="flex justify-between w-full mb-1">
                    <span id="score-label" class="text-[9px] md:text-[10px] uppercase font-bold text-white tracking-widest truncate mr-1">SCORE</span>
                    <span id="score-text" class="text-[10px] font-bold text-white">0%</span>
                </div>
                <div class="w-full h-3 md:h-4 bg-black/30 rounded-full overflow-hidden border border-white/20">
                    <div id="bar-score" class="progress-bar h-full bg-gradient-to-r from-orange-400 to-red-600 shadow-[0_0_10px_rgba(255,0,0,0.5)]" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Chat Area -->
        <div id="chat-container" class="flex-grow min-h-0 overflow-y-auto p-3 md:p-4 space-y-4 chat-bg flex flex-col scroll-smooth">
            <div id="game-intro" class="bg-blue-100/90 text-blue-800 text-xs p-2 rounded-lg self-center px-4 mb-2 shadow-sm font-semibold text-center border border-blue-200 shrink-0">
                Misi Dimulai
            </div>
            <div id="dynamic-messages" class="space-y-4 flex flex-col pb-2"></div>
            <div id="typing-indicator" class="hidden bubble-left p-2 max-w-[120px] shadow-sm self-start italic text-xs text-gray-500 mb-2">Seseorang sedang mengetik...</div>
        </div>

        <!-- Input/Options -->
        <div id="options-panel" class="bg-[#f0f0f0] p-3 md:p-4 border-t border-gray-300 shrink-0 max-h-[45vh] overflow-y-auto pb-safe">
            <p id="options-hint" class="text-[10px] font-bold text-gray-500 mb-2 md:mb-3 uppercase tracking-widest text-center sticky top-0 bg-[#f0f0f0] py-1 z-10">Pilih Balasan</p>
            <div id="options-grid" class="grid grid-cols-1 gap-2 md:gap-3 pb-2"></div>
        </div>
    </div>

    <!-- LAYAR HASIL -->
    <div id="overlay" class="fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-6 hidden">
        <div class="bg-white rounded-3xl p-6 md:p-8 max-w-sm w-full text-center shadow-2xl overflow-hidden relative">
            <div id="result-confetti" class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-red-500 via-green-500 to-blue-500"></div>
            <div id="result-icon" class="text-6xl md:text-7xl mb-4">ğŸš«</div>
            <h2 id="result-title" class="text-xl md:text-2xl font-bold mb-2"></h2>
            <p id="result-desc" class="text-gray-600 mb-6 text-sm"></p>
            <button onclick="backToHome()" class="w-full whatsapp-green text-white font-bold py-3 rounded-xl hover:opacity-90 transition shadow-lg">Kembali Ke List Chat</button>
        </div>
    </div>

    <script>
        // --- DATA SOAL RT (20 SOAL) ---
        // Misi: MEMPERLEMAH (Weaken)
        const bankSoalRT = [
            {
                statement: "Mulai besok WiFi di poskamling saya cabut. Gara-gara ada WiFi, pemuda yang pada ronda malah sibuk main game, daripada keliling kampung.",
                options: [
                    { text: "Laporan keamanan menunjukkan bahwa sejak WiFi dipasang, angka pencurian di lingkungan menurun drastis karena pos ronda selalu terisi penuh oleh pemuda hingga pagi hari.", type: "weaken", feedback: "Skakmat! Data lapangan membantah asumsi Bu RT. ğŸ”¥" },
                    { text: "Beberapa warga mengeluhkan teriakan pemuda yang sedang bermain game online sangat mengganggu waktu istirahat malam.", type: "strengthen", feedback: "Bu RT merasa didukung penuh." },
                    { text: "Harga langganan WiFi bulanan mengalami kenaikan yang cukup signifikan dari provider pusat.", type: "neutral", feedback: "Bu RT menghela napas panjang." },
                    { text: "Banyak pemuda yang sebenarnya tidak memiliki kuota internet pribadi untuk berkomunikasi.", type: "neutral", feedback: "Kasian si, tapi ngga nyambung deh" }
                ]
            },
            {
                statement: "Semua kucing liar di komplek harus diusir atau dibuang jauh-jauh, karena mereka sumber penyakit dan bikin lingkungan kotor.",
                options: [
                    { text: "Studi sanitasi lingkungan menunjukkan bahwa pembersihan kucing liar secara massal sering kali diikuti dengan ledakan populasi tikus got yang membawa patogen lebih berbahaya bagi warga.", type: "weaken", feedback: "Fakta ekosistem membuat Bu RT terdiam. ğŸ”¥" },
                    { text: "Banyak kantong sampah warga yang robek dan isinya berserakan di jalan karena diacak-acak oleh kucing di malam hari.", type: "strengthen", feedback: "Bu RT senang ada teman seperjuangan." },
                    { text: "Sebagian besar warga di komplek adalah pecinta hewan dan sering memberi makan kucing-kucing tersebut.", type: "neutral", feedback: "Pamer yang tidak perlu." },
                    { text: "Biaya operasional untuk menangkap dan memindahkan kucing liar membutuhkan dana kas RT yang cukup besar.", type: "neutral", feedback: "Mohon maaf, RT kami kaya." }
                ]
            },
            {
                statement: "Lampu penerangan jalan di Blok C akan dimatikan setelah jam 10 malam untuk menghemat biaya listrik kas warga.",
                options: [
                    { text: "Sebagian besar lampu di Blok C sudah menggunakan sensor cahaya otomatis dan lampu LED hemat energi yang konsumsi listriknya tidak signifikan terhadap total beban pengeluaran kas.", type: "weaken", feedback: "Analisis biaya-manfaat Anda tajam! ğŸ”¥" },
                    { text: "Saldo kas warga bulan ini menunjukkan angka defisit akibat biaya pemeliharaan taman yang membengkak.", type: "strengthen", feedback: "Tuh kan, mahal banget !" },
                    { text: "Beberapa warga di Blok C sering pulang kerja di atas jam 10 malam menggunakan kendaraan pribadi.", type: "neutral", feedback: "Ngantuh kah ?" },
                    { text: "Lampu teras rumah warga sebenarnya sudah cukup terang untuk menyinari area trotoar di depan rumah masing-masing.", type: "neutral", feedback: "Bener tu, ngga perlu lampu lagi" }
                ]
            },
            {
                statement: "Pohon beringin di taman ujung harus ditebang karena daunnya bikin nyampah jalanan terus, bikin capek tukang sapu.",
                options: [
                    { text: "Biaya yang harus dikeluarkan untuk memperbaiki aspal jalan yang retak akibat paparan matahari langsung tanpa naungan pohon jauh lebih tinggi daripada upah bulanan tukang sapu.", type: "weaken", feedback: "Logika lingkungan Anda mematahkan argumen sampah. ğŸ”¥" },
                    { text: "Akar pohon tersebut mulai merusak fondasi saluran air (got) di sekitar taman yang memicu genangan saat hujan.", type: "strengthen", feedback: "Bu RT suka semangat kebersihan Anda." },
                    { text: "Tukang sapu di komplek tersebut baru saja meminta kenaikan gaji karena beban kerja yang dianggap semakin berat.", type: "strengthen", feedback: "Duit lagi, duit lagi" },
                    { text: "Pohon beringin tersebut sudah berusia puluhan tahun dan menjadi identitas bagi taman di komplek tersebut.", type: "neutral", feedback: "Bu RT jadi merinding." }
                ]
            },
            {
                statement: "Tamu dilarang bawa mobil masuk ke komplek. Mobil tamu bikin aspal jalan kita cepat rusak dan berlubang, nanti anggaran kita habis cuma buat benerin jalan kompleks lagi.",
                options: [
                    { text: "Analisis teknis menunjukkan kerusakan jalan di komplek tersebut disebabkan oleh sistem drainase yang buruk sehingga air meresap ke bawah aspal, bukan karena beban kendaraan ringan.", type: "weaken", feedback: "Anda menunjukkan penyebab kerusakan yang sebenarnya. ğŸ”¥" },
                    { text: "Frekuensi mobil tamu yang parkir di bahu jalan meningkat dua kali lipat dalam satu bulan terakhir.", type: "strengthen", feedback: "Bu RT merasa idenya valid." },
                    { text: "Banyak warga yang merasa keberatan jika tamu mereka harus berjalan kaki dari gerbang depan yang jaraknya cukup jauh.", type: "neutral", feedback: "Mencari celah aturan." },
                    { text: "Lahan parkir di depan gerbang komplek saat ini sudah terisi penuh oleh kendaraan milik pedagang kaki lima.", type: "neutral", feedback: "Kamu pedagang kaki lima ya ?" }
                ]
            },
            {
                statement: "Mulai minggu depan, seluruh warga wajib ikut senam subuh. Kalau jarang senam, pasti gampang kena flu dan batuk. Nanti kalau banyak yang sakit, puskesmas rame.",
                options: [
                    { text: "Data kesehatan dari puskesmas setempat menunjukkan bahwa mayoritas pasien flu dan batuk bulan lalu berasal dari lingkungan yang memiliki agenda rutin olahraga bersama di ruang terbuka.", type: "weaken", feedback: "Fakta medis meruntuhkan mitos Bu RT. ğŸ”¥" },
                    { text: "Kegiatan olahraga secara teratur terbukti secara ilmiah dapat meningkatkan sistem imun tubuh terhadap serangan virus ringan.", type: "strengthen", feedback: "Semangat 45 Anda disukai Bu RT." },
                    { text: "Beberapa warga mengusulkan agar instruktur senam didatangkan dari sanggar senam profesional agar lebih bersemangat.", type: "neutral", feedback: "Sehat bugar anak Indonesia." },
                    { text: "Waktu subuh dianggap terlalu pagi bagi sebagian warga yang bekerja hingga larut malam.", type: "neutral", feedback: "Mikirin perut terus." }
                ]
            },
            {
                statement: "Tukang sayur keliling dilarang masuk komplek. Mereka bukannya mempermudah ibu-ibu biar cepet masak, malah bikin ibu-ibu jadi hobi ngerumpi dan lupa masak.",
                options: [
                    { text: "Sejak tukang sayur dilarang masuk sementara minggu lalu, durasi ibu-ibu berkumpul di area publik untuk mengobrol justru meningkat karena mereka harus berjalan bersama menuju pasar tradisional.", type: "weaken", feedback: "Bukti empiris! Ngerumpi jalan terus tanpa tukang sayur. ğŸ”¥" },
                    { text: "Beberapa suami mengeluhkan makanan belum siap saat mereka pulang untuk makan siang karena istri mereka asyik mengobrol.", type: "strengthen", feedback: "Suara dari bapak-bapak" },
                    { text: "Harga sayuran di tukang sayur keliling relatif lebih mahal dibandingkan harga di pasar induk.", type: "neutral", feedback: "Kok malah curhat harga pasar." },
                    { text: "Kebersihan lingkungan sedikit terganggu karena sisa sayuran yang jatuh dari gerobak pedagang keliling.", type: "neutral", feedback: "Lumayan dong bu." }
                ]
            },
            {
                statement: "Untuk acara 17-an nanti, kita wajib sewa pawang hujan mahal biar acaranya lancar dan tidak hujan.",
                options: [
                    { text: "Evaluasi acara tahun lalu menunjukkan bahwa hujan tetap turun dengan intensitas tinggi meskipun panitia sudah membayar jasa pawang hujan paling mahal di daerah tersebut.", type: "weaken", feedback: "Bu RT lupa evaluasi tahun lalu. ğŸ”¥" },
                    { text: "Cuaca yang cerah sangat krusial bagi keberhasilan lomba panjat pinang yang menjadi acara utama di peringatan 17-an.", type: "strengthen", feedback: "Bu RT merasa didukung secara spiritual." },
                    { text: "Biaya sewa tenda anti air sebenarnya hampir setara dengan tarif jasa seorang pawang hujan profesional.", type: "neutral", feedback: "Kamu jualaan tenda ?" },
                    { text: "Pawangnya sudah punya sertifikasi BNSP belum Bu?", type: "neutral", feedback: "Pertanyaan birokrasi yang bikin pusing." }
                ]
            },
            {
                statement: "Karena banyaknya kasus pencurian di berita, saya membuat aturan bahwa ART wajib pakai seragam khusus warna oranye biar satpam gampang membedakan mana ART mana pencuri yang menyamar.",
                options: [
                    { text: "Laporan kepolisian menyebutkan bahwa sindikat pencuri spesialis perumahan sering kali memantau rutinitas rumah dengan menyamar menggunakan seragam pekerja atau atribut teknisi agar tidak dicurigai warga.", type: "weaken", feedback: "Argumen keamanan Bu RT runtuh oleh data. ğŸ”¥" },
                    { text: "Banyak orang asing yang bebas keluar masuk komplek tanpa identitas yang jelas sehingga menyulitkan pengawasan satpam.", type: "strengthen", feedback: "Bu RT suka keteraturan Anda." },
                    { text: "Beberapa ART merasa malu jika harus menggunakan seragam dengan warna yang terlalu mencolok saat bekerja.", type: "neutral", feedback: "Komentar fashion." },
                    { text: "Pengadaan seragam oranye akan dibebankan sepenuhnya kepada masing-masing pemilik rumah yang mempekerjakan ART.", type: "neutral", feedback: "Haduh duit lagi bu." }
                ]
            },
            {
                statement: "Saya akan bangun 10 polisi tidur tambahan di jalan utama biar anak-anak aman dari kendaraan ngebut.",
                options: [
                    { text: "Pemasangan polisi tidur yang terlalu rapat sering kali membuat pengendara motor mencari jalan tikus melewati trotoar atau area taman yang justru lebih banyak terdapat anak-anak bermain.", type: "weaken", feedback: "Poin keselamatan darurat yang valid! ğŸ”¥" },
                    { text: "Kecepatan rata-rata kendaraan yang melintasi jalan utama komplek saat ini mencapai 40-50 km/jam, yang dianggap membahayakan.", type: "strengthen", feedback: "Emosi sesaat yang didukung Bu RT." },
                    { text: "Biaya pembangunan polisi tidur akan diambil dari sisa dana perayaan hari kemerdekaan tahun lalu.", type: "neutral", feedback: "Masalah biaya nanti dulu" },
                    { text: "Polisi tidur yang ada saat ini sudah mulai terkikis dan tidak efektif lagi untuk memperlambat laju kendaraan.", type: "neutral", feedback: "Bu RT mau menambah polisi tidur" }
                ]
            },
            {
                statement: "Daripada sampah menumpuk karena nunggu truk dinas, mending setiap sore warga bakar sampah masing-masing di depan rumah.",
                options: [
                    { text: "Hasil pemantauan kualitas udara menunjukkan bahwa partikel dari pembakaran sampah rumah tangga di area pemukiman padat memicu peningkatan kasus ISPA (infeksi saluran pernapasan) pada anak-anak.", type: "weaken", feedback: "Risiko kesehatan fatal membungkam Bu RT. ğŸ”¥" },
                    { text: "Truk sampah dari Dinas Kebersihan sering terlambat datang hingga berminggu-minggu sehingga menimbulkan bau busuk.", type: "strengthen", feedback: "Nah kan bener kata Bu RT" },
                    { text: "Warga di komplek sebelah sudah menerapkan sistem pengelolaan sampah mandiri menjadi pupuk kompos.", type: "neutral", feedback: "Kok malah dibandingin" },
                    { text: "Abu sisa pembakaran sampah dapat digunakan oleh warga sebagai pupuk tambahan untuk tanaman di pot.", type: "neutral", feedback: "Cocok untuk rumah tangga." }
                ]
            },
            {
                statement: "Si Dodi sakit perut pasti gara-gara sering pulang malam. Pulang malam itu sumber penyakit perut.",
                options: [
                    { text: "Satpam komplek yang bekerja shift malam di pos terbuka selama 10 tahun tidak pernah mengalami keluhan sakit perut seperti yang dialami Dodi.", type: "weaken", feedback: "Pengalaman Satpam vs Mitos. Satpam menang. ğŸ”¥" },
                    { text: "Suhu udara malam hari belakangan ini memang sangat dingin menusuk tulang.", type: "strengthen", feedback: "Anda termakan mitos yang sama." },
                    { text: "Semoga Dodi cepat sembuh ya.", type: "neutral", feedback: "Doa yang baik." },
                    { text: "Dodi sering lupa membawa jaket saat pergi keluar rumah.", type: "neutral", feedback: "Kayanya lebih ke, Dodi lupa pamit deh." }
                ]
            },
            {
                statement: "Portal gerbang belakang kita gembok mati saja selamanya, maling pasti tidak bisa masuk lagi dan komplek jadi aman 100%",
                options: [
                    { text: "Statistik Polsek menunjukkan mayoritas pencuri masuk melalui pintu depan dengan menyamar sebagai tamu atau kurir paket resmi di siang bolong.", type: "weaken", feedback: "Polisi datang! Bu RT tak bisa membantah. ğŸ”¥" },
                    { text: "Portal belakang berada di area gelap yang minim pengawasan warga.", type: "strengthen", feedback: "Ihhh serem" },
                    { text: "Kunci gembok portal dipegang bergilir oleh warga yang rumahnya paling dekat.", type: "neutral", feedback: "Teknis gembok." },
                    { text: "Beli gembok kombinasi yang mahal, biar maling nggabisa bukanya", type: "neutral", feedback: "kayanya bukan soal gembok deh" }
                ]
            },
            {
                statement: "Warga wajib beli air galon merk 'Tirtasari' yang punyanya Bu Broto sepupu saya. Merk lain itu air mentah yang bikin sakit ginjal, bahaya banget. Buat keluarga itu pastikan yang aman-aman saja.",
                options: [
                    { text: "Tingginya kasus sakit ginjal di wilayah tersebut menurut dokter disebabkan oleh pola makan tinggi garam dan kurang gerak.", type: "weaken", feedback: "Bu RT terdiam lemas. ğŸ”¥" },
                    { text: "Galon Tirtasari bisa diantar langsung ke depan pintu rumah, jadi tidak perlu angkat-angkat galon, jadi ginjal kita aman.", type: "strengthen", feedback: "Anda korban marketing nepotisme." },
                    { text: "Segar banget emang airnya kalau dingin.", type: "neutral", feedback: "Testimoni rasa." },
                    { text: "Rasa air merk lain terkadang terasa payau di lidah.", type: "neutral", feedback: "Testimoni rasa dong." }
                ]
            },
            {
                statement: "Bu ibu, tau ngga tadi ada informasi di facebook kalau katanya anak-anak dilarang main HP di teras rumah. Bahaya, nanti radiasi sinyal HP bisa bikin tanaman hias di teras jadi layu dan mati.",
                options: [
                    { text: "Ahli tanaman menyimpulkan kematian tanaman hias warga disebabkan oleh serangan hama kutu putih yang mewabah, bukan paparan gelombang elektromagnetik.", type: "weaken", feedback: "Ahli tanaman membungkam hoax. ğŸ”¥" },
                    { text: "Sejumlah tanaman yang berada di dekat sumber sinyal kuat menunjukkan penurunan pertumbuhan dibandingkan tanaman di lokasi lain.", type: "strengthen", feedback: "Mendukung kekhawatiran ibu-ibu tadi. ğŸ“±ğŸŒ±" },
                    { text: "Harga tanaman hias di pasar tanaman sedang mengalami penurunan karena tren yang mulai jenuh.", type: "neutral", feedback: "Kok jualan ya" },
                    { text: "Tanaman saya layu karena lupa disiram seminggu sih Bu.", type: "neutral", feedback: "Pengakuan dosa." }
                ]
            },
            {
                statement: "Mulai sekarang hajatan nikahan dilarang pakai musik dangdut, bikin pusing. Harus ganti musik klasik dan musik jazz. Soalnya, tadi kata mbak meta, mendengarkan musik jazz bisa bikin pintar.",
                options: [
                    { text: "Studi psikologi menunjukkan efek musik (Mozart Effect) hanya bersifat relaksasi sementara dan tidak menaikkan kapasitas kognitif permanen.", type: "weaken", feedback: "Korelasi ngawur berhasil dipatahkan. ğŸ”¥" },
                    { text: "Kemarin tetangga saya yang dosen, nikahannya musiknya jazz bu. Profesor semua yang dateng.", type: "strengthen", feedback: "Menjilat level dewa." },
                    { text: "Musik dangdut sering memicu kerumunan warga berjoget yang memacetkan jalan.", type: "neutral", feedback: "Fokus jogetan" },
                    { text: "Sewa sound system untuk musik jazz membutuhkan spesifikasi audio yang tinggi.", type: "neutral", feedback: "Sound Horeg bisa ?" }
                ]
            },
            {
                statement: "Semua genteng rumah wajib dicat hitam pekat biar komplek kita kelihatan elegan dan mewah seperti perumahan elit dan katanya genteng hitam bisa memantulkan panas matahari, jadi rumah kita adem.",
                options: [
                    { text: "Warga yang sudah mengecat gentengnya hitam mengeluh tagihan listrik mereka naik 30% karena AC harus bekerja lebih keras mendinginkan ruangan.", type: "weaken", feedback: "Warga termakan hoax menyerang balik! ğŸ”¥" },
                    { text: "Produsen cat menyatakan lapisan khusus pada cat hitam tersebut dirancang untuk memantulkan radiasi inframerah.", type: "strengthen", feedback: "Korban Iklan" },
                    { text: "Toko cat sedang memberikan diskon besar untuk warna hitam pekat.", type: "neutral", feedback: "Info diskon." },
                    { text: "Nanti dikira markas drakula dong Bu kalau hitam semua.", type: "neutral", feedback: "Ibu RT agak tersinggung." }
                ]
            },
            {
                statement: "Jadwal ronda malam saya ganti, isinya harus bapak-bapak usia 60 tahun ke atas saja. Orang tua lebih bijaksana menghadapi maling.",
                options: [
                    { text: "Data kepolisian menunjukkan pelaku kriminal cenderung menghindari konfrontasi verbal (negosiasi) dan langsung menggunakan kekerasan fisik.", type: "weaken", feedback: "Realita lapangan vs Teori Bu RT. ğŸ”¥" },
                    { text: "Yang tua yang berpengalaman, lansia cenderung lebih sabar dan tidak mudah terpancing emosi dalam situasi konflik dibandingkan pemuda.", type: "strengthen", feedback: "Hormat pada orang tua, tapi salah tempat." },
                    { text: "Lansia memiliki waktu luang lebih banyak dibandingkan warga usia produktif.", type: "neutral", feedback: "Namanya juga udah tua." },
                    { text: "Kalau malingnya lari, dikejarnya pakai kursi roda ya Bu?", type: "neutral", feedback: "Pertanyaan logis yang sarkas." }
                ]
            },
            {
                statement: "HATI-HATI! Ada sindikat penculik anak ambil ginjal menyamar jadi penjual es krim di komplek sebelah!! Waspada!!",
                options: [
                    { text: "Pihak kepolisian mengonfirmasi bahwa broadcast tersebut adalah hoaks lama yang didaur ulang dan pedagang yang dimaksud sudah terverifikasi identitasnya bersih.", type: "weaken", feedback: "Anti-Hoax beraksi! ğŸ”¥" },
                    { text: "Warga di kelurahan sebelah melaporkan kehilangan anak setelah membeli es krim, namun sampai saat ini masih dalam proses penyelidikan.", type: "strengthen", feedback: "Seremnyaaa." },
                    { text: "Ya ampun ngeri banget Bu, izin share ke grup keluarga!", type: "neutral", feedback: "Sang penbyebar Hoax." },
                    { text: "Pedagang keliling biasanya berjualan mulai pukul 3 sore hingga maghrib.", type: "neutral", feedback: "Pengangguran" }
                ]
            },
            {
                statement: "Uang kas warga bulan ini kita pakai semua untuk bikin patung selamat datang berbentuk wajah saya, biar tamu segan masuk sini.",
                options: [
                    { text: "Faktor utama yang membuat maling takut masuk adalah adanya portal one-gate system dan CCTV aktif.", type: "weaken", feedback: "Skala prioritas yang benar! ğŸ”¥" },
                    { text: "Kehadiran simbol otoritas yang mencolok di pintu masuk dapat meningkatkan efek psikologis kewaspadaan bagi orang luar.", type: "strengthen", feedback: "Pemujaan tokoh." },
                    { text: "Patungnya diganti hewan saja bu, jangan wajah ibu.", type: "neutral", feedback: "Penyataan yang menyerang." },
                    { text: "Perawatan patung membutuhkan biaya pembersihan lumut setiap bulan.", type: "neutral", feedback: "RT Kita Kaya!" }
                ]
            }
        ];

        // --- DATA SOAL KELUARGA (20 SOAL) ---
        // Misi: JANGAN Memperlemah (Strengthen/Neutral)
        const bankSoalKeluarga = [
            {
                sender: "Tante",
                statement: "Kamu jangan beli saham atau kripto, mending beli emas batangan saja. Emas itu harganya naik terus tiap tahun dan fisiknya bisa dipegang, jadi lebih aman.",
                options: [
                    { text: "Data sejarah menunjukkan emas adalah aset safe haven yang paling stabil saat terjadi inflasi global.", type: "strengthen", feedback: "Tante: 'Tuh kan, Tante emang jago investasi!' THR aman. ğŸ’¸" },
                    { text: "Harga emas dunia sempat mengalami stagnasi selama beberapa tahun terakhir dibandingkan instrumen lain.", type: "weaken", feedback: "Tante cemberut: 'Kamu sok tau ekonomi'. THR berkurang. ğŸ“‰" },
                    { text: "Biaya penyimpanan emas di brankas bank cukup mahal dan mengurangi nilai keuntungan bersih.", type: "weaken", feedback: "Tante: 'Pelit amat sama biaya admin'. THR berkurang. ğŸ“‰" },
                    { text: "Likuiditas emas fisik lebih rendah karena butuh waktu untuk pergi ke toko emas jika butuh uang mendadak.", type: "weaken", feedback: "Tante: 'Emas itu tabungan masa depan bukan buat jajan!'. THR berkurang. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kuliah itu ambil Teknik Sipil atau Akuntansi saja. Zaman sekarang perusahaan cuma cari orang yang punya keahlian teknis jelas, daripada jurusan seni yang kerjanya nggak pasti.",
                options: [
                    { text: "Lowongan kerja untuk tenaga ahli infrastruktur dan audit keuangan selalu mendominasi portal pencarian kerja setiap tahunnya.", type: "strengthen", feedback: "Om: 'Nah, ini baru ponakan pintar!'. THR cair. ğŸ’¸" },
                    { text: "Laporan ekonomi kreatif menunjukkan pertumbuhan sektor seni dan desain kini menyumbang persentase PDB yang lebih tinggi dibanding sektor konstruksi konvensional.", type: "weaken", feedback: "Om: 'Itu kan hoki-hokian doang'. THR melayang. ğŸ“‰" },
                    { text: "Kecerdasan emosional dan kreativitas kini lebih dihargai perusahaan besar daripada kemampuan menghitung manual.", type: "weaken", feedback: "Om tersinggung: 'Maksudmu Om gak kreatif?'. THR melayang. ğŸ“‰" },
                    { text: "Automasi AI diprediksi akan menggantikan peran akuntan dasar dalam 10 tahun ke depan.", type: "weaken", feedback: "Om: 'Jangan percaya robot!'. THR melayang. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Jangan sering minum air es pas lagi makan, nanti lemaknya membeku di perut dan bikin kamu buncit!",
                options: [
                    { text: "Suhu dingin yang ekstrem pada lambung dapat memperlambat kerja enzim pencernaan, sehingga proses penguraian lemak menjadi lebih lama.", type: "strengthen", feedback: "Tante: 'Kan! Dibilangin ngeyel'. THR aman. ğŸ’¸" },
                    { text: "Suhu air yang masuk ke tubuh akan segera disesuaikan dengan suhu internal tubuh oleh sistem metabolisme.", type: "weaken", feedback: "Tante: 'Kamu kebanyakan teori buku'. THR berkurang. ğŸ“‰" },
                    { text: "Secara biologis, lemak hanya bisa dicerna melalui proses kimiawi enzim, bukan dibekukan oleh suhu air.", type: "weaken", feedback: "Tante: 'Tante lebih tau soal diet'. THR berkurang. ğŸ“‰" },
                    { text: "Minum air dingin justru sedikit membakar kalori karena tubuh bekerja ekstra untuk menghangatkan air tersebut.", type: "weaken", feedback: "Tante: 'Alasan aja biar minum es terus'. THR berkurang. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Anak muda itu harus bangun jam 5 subuh. Kalau bangun siang, rejekinya dipatok ayam, makanya kamu sampai sekarang belum kaya-kaya.",
                options: [
                    { text: "Survei menunjukkan orang yang bangun lebih pagi memiliki waktu lebih banyak untuk merencanakan strategi kerja harian.", type: "strengthen", feedback: "Om: 'Mantap, tiru semangat Om!'. THR cair. ğŸ’¸" },
                    { text: "Banyak miliarder teknologi yang justru bekerja produktif di malam hari dan baru tidur setelah subuh.", type: "weaken", feedback: "Om: 'Itu kan di Amerika, beda jam!'. THR seret. ğŸ“‰" },
                    { text: "Kesuksesan finansial lebih dipengaruhi oleh manajemen aset dan jejaring daripada jam bangun tidur.", type: "weaken", feedback: "Om: 'Jangan ngajarin orang tua'. THR seret. ğŸ“‰" },
                    { text: "Jam biologis setiap orang berbeda-beda, ada yang lebih efektif bekerja di siang hari.", type: "weaken", feedback: "Om: 'Alasan pemalas!'. THR seret. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Ngapain kuliah jauh-jauh ke luar negeri? Di sini saja, nanti kalau di sana kamu lupa sama budaya sendiri dan nggak mau pulang.",
                options: [
                    { text: "Studi menunjukkan bahwa perantau yang terlalu lama tinggal di negara maju cenderung mengalami perubahan nilai hidup yang menyulitkan readaptasi saat kembali ke tanah air (Reverse Culture Shock).", type: "strengthen", feedback: "Tante: 'Tuh kan bener, bahaya pergaulan bebas'. THR cair. ğŸ’¸" },
                    { text: "Mahasiswa luar negeri justru sering mengadakan festival budaya Indonesia untuk memperkenalkan tradisi kita.", type: "weaken", feedback: "Tante: 'Halah, paling cuma setahun sekali'. THR -20%. ğŸ“‰" },
                    { text: "Lulusan luar negeri memiliki daya saing yang lebih tinggi di pasar kerja global.", type: "weaken", feedback: "Tante: 'Kerja di sini juga bisa kaya kok'. THR -20%. ğŸ“‰" },
                    { text: "Beasiswa ke luar negeri memberikan tunjangan yang sangat mencukupi.", type: "weaken", feedback: "Tante: 'Uang bukan segalanya nak'. THR -20%. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Jangan taruh HP dekat tanaman hias Om, nanti sinyal radiasinya bikin daunnya layu. Ini tanaman mahal!",
                options: [
                    { text: "Komponen elektronik pada HP mengeluarkan panas yang dapat mempengaruhi suhu mikro di sekitar daun tanaman yang sensitif.", type: "strengthen", feedback: "Om: 'Nah, kamu ngerti kan!'. THR aman. ğŸ’¸" },
                    { text: "Gelombang radio pada HP adalah radiasi non-ionisasi yang energinya terlalu lemah untuk merusak sel tumbuhan.", type: "weaken", feedback: "Om: 'Jangan sok profesor deh'. THR bye-bye. ğŸ“‰" },
                    { text: "Tanaman membutuhkan sinar matahari dan air untuk fotosintesis, bukan dipengaruhi oleh frekuensi seluler.", type: "weaken", feedback: "Om: 'Tanaman Om beda, sensitif!'. THR bye-bye. ğŸ“‰" },
                    { text: "Tidak ada bukti ilmiah yang mendukung bahwa sinyal 4G dapat menghambat pertumbuhan klorofil.", type: "weaken", feedback: "Om: 'Ilmuwan belum neliti tanaman Om aja'. THR bye-bye. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Kamu kalau makan nggak pakai nasi itu namanya belum makan. Karbohidrat dari roti itu nggak bikin kenyang, cuma lewat doang di tenggorokan.",
                options: [
                    { text: "Nasi memiliki kepadatan tekstur yang memicu peregangan dinding lambung secara lebih intens, sinyal utama bagi otak untuk merasa kenyang.", type: "strengthen", feedback: "Tante: 'Pinter kamu, ayo tambah nasinya'. THR +++. ğŸ’¸" },
                    { text: "Roti gandum memiliki kandungan serat yang lebih tinggi sehingga memberikan rasa kenyang yang lebih lama daripada nasi.", type: "weaken", feedback: "Tante: 'Serat apaan, kayak makan kertas'. THR turun. ğŸ“‰" },
                    { text: "Rasa kenyang adalah sinyal hormonal dari otak yang tidak bergantung pada jenis sumber karbohidratnya.", type: "weaken", feedback: "Tante: 'Teori melulu, makan tuh nasi'. THR turun. ğŸ“‰" },
                    { text: "Masyarakat di negara barat tetap bisa beraktivitas berat meskipun hanya mengonsumsi kentang.", type: "weaken", feedback: "Tante: 'Kita orang Indo bukan londo'. THR turun. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Cari istri itu yang dekat-dekat saja, kalau bisa tetangga satu komplek atau anak teman Om. Biar bibit, bebet, bobotnya jelas dan nggak ribet kalau mudik.",
                options: [
                    { text: "Memahami latar belakang keluarga calon pasangan secara mendalam dapat meminimalisir risiko konflik nilai antar keluarga besar.", type: "strengthen", feedback: "Om: 'Cerdas! Nanti Om kenalin anak Pak RT'. THR cair. ğŸ’¸" },
                    { text: "Menikah dengan orang dari latar belakang budaya yang berbeda dapat memperkaya perspektif dan keturunan.", type: "weaken", feedback: "Om: 'Ribet urusan adat nanti!'. THR batal. ğŸ“‰" },
                    { text: "Mudik jarak jauh kini semakin mudah dengan banyaknya pilihan transportasi udara dan jalan tol.", type: "weaken", feedback: "Om: 'Tiket pesawat mahal tau!'. THR batal. ğŸ“‰" },
                    { text: "Jodoh adalah rahasia Tuhan yang tidak bisa dibatasi oleh sekat geografis.", type: "weaken", feedback: "Om: 'Jangan ceramahin Om'. THR batal. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Kamu itu sarjana hukum kenapa nggak kerja di bank saja? Seragamnya rapi, kantornya adem, setiap bulan gajinya pasti. Itu baru namanya sukses.",
                options: [
                    { text: "Sektor perbankan menawarkan jenjang karier yang terstruktur serta berbagai jaminan tunjangan kesehatan bagi karyawannya.", type: "strengthen", feedback: "Tante: 'Tuh dengerin, segera lamar sana'. THR aman. ğŸ’¸" },
                    { text: "Menjadi pengacara mandiri memberikan kebebasan waktu dan potensi penghasilan yang tidak terbatas.", type: "weaken", feedback: "Tante: 'Penghasilan gak pasti kok bangga'. THR seret. ğŸ“‰" },
                    { text: "Banyak pegawai bank yang merasa stres karena target bulanan yang sangat tinggi.", type: "weaken", feedback: "Tante: 'Namanya kerja ya capek'. THR seret. ğŸ“‰" },
                    { text: "Di era digital, banyak fungsi perbankan yang mulai digantikan oleh aplikasi, risiko PHK tinggi.", type: "weaken", feedback: "Tante: 'Jangan nakut-nakutin Tante'. THR seret. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kalau masuk angin itu jangan minum obat kimia, mending kerokan saja sampai merah. Itu tandanya anginnya keluar semua dari pori-pori.",
                options: [
                    { text: "Peningkatan aliran darah lokal akibat gesekan kerokan terbukti mempercepat metabolisme otot yang pegal dan memberikan sensasi panas yang menenangkan.", type: "strengthen", feedback: "Om: 'Nah, badan langsung enteng kan?'. THR cair. ğŸ’¸" },
                    { text: "Warna merah pada kulit saat dikerok adalah pecahnya pembuluh darah kapiler, bukan gas angin.", type: "weaken", feedback: "Om: 'Sok tau kamu dokter juga bukan'. THR tahan dulu. ğŸ“‰" },
                    { text: "Terlalu sering kerokan dapat membuat pori-pori kulit membesar dan memudahkan bakteri masuk.", type: "weaken", feedback: "Om: 'Om dari dulu kerokan sehat aja tuh'. THR tahan dulu. ğŸ“‰" },
                    { text: "Masuk angin secara medis biasanya merujuk pada gejala dispepsia atau infeksi virus ringan.", type: "weaken", feedback: "Om: 'Istilah medis bikin pusing'. THR tahan dulu. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Main game terus! Itu cuma buang-buang waktu. Mending waktunya dipakai buat bantu Tante masak atau baca buku biar pintar.",
                options: [
                    { text: "Menghabiskan waktu berjam-jam di depan layar tanpa aktivitas fisik dapat menurunkan tingkat konsentrasi dan stamina tubuh.", type: "strengthen", feedback: "Tante: 'Dengerin tuh, jangan HP teroos'. THR cair. ğŸ’¸" },
                    { text: "Bermain game strategi terbukti dapat meningkatkan kemampuan pengambilan keputusan.", type: "weaken", feedback: "Tante: 'Keputusan apa? Keputusan kalah?'. THR potong. ğŸ“‰" },
                    { text: "Industri e-sports kini menawarkan hadiah jutaan dolar bagi pemain profesional.", type: "weaken", feedback: "Tante: 'Halah, paling kamu cuma buang kuota'. THR potong. ğŸ“‰" },
                    { text: "Game edukasi dapat membantu anak-anak belajar bahasa asing dengan cara menyenangkan.", type: "weaken", feedback: "Tante: 'Belajar ya di sekolah'. THR potong. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Mobil itu harus manual. Lebih irit, lebih bertenaga, dan kalau mogok bisa didorong. Mobil matic itu buat orang malas.",
                options: [
                    { text: "Tren warna mobil tahun ini didominasi oleh warna-warna pastel yang cerah dan futuristik.", type: "neutral", feedback: "Om bingung: 'Kok bahas warna? Ya sudahlah'. THR aman. ğŸ˜" },
                    { text: "Teknologi transmisi matic modern saat ini sudah jauh lebih efisien dalam konsumsi bahan bakar.", type: "weaken", feedback: "Om: 'Ah, teori marketing itu'. THR gagal. ğŸ“‰" },
                    { text: "Menggunakan mobil matic di kemacetan kota besar sangat membantu mengurangi kelelahan fisik.", type: "weaken", feedback: "Om: 'Manja amat jadi orang'. THR gagal. ğŸ“‰" },
                    { text: "Nilai jual kembali mobil matic di kota-kota besar cenderung lebih stabil karena permintaan tinggi.", type: "weaken", feedback: "Om: 'Om gak niat jual mobil'. THR gagal. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Kalau mau kulit putih dan nggak gampang sakit, minum vitamin C dosis tinggi tiap hari. Tante saja minum yang 1000mg terus.",
                options: [
                    { text: "Jeruk nipis dan lemon memiliki profil rasa asam yang berbeda meskipun sama-sama mengandung sitrat.", type: "neutral", feedback: "Tante: 'Iyalah beda, anak kecil juga tau'. THR aman. ğŸ˜" },
                    { text: "Kelebihan vitamin C dalam tubuh akan dibuang melalui urine sehingga konsumsi berlebih menjadi sia-sia.", type: "weaken", feedback: "Tante: 'Mahal-mahal dibuang pipis? Ngawur kamu'. THR minus. ğŸ“‰" },
                    { text: "Konsumsi vitamin C dosis tinggi jangka panjang tanpa air cukup dapat memicu batu ginjal.", type: "weaken", feedback: "Tante: 'Jangan doain Tante sakit dong!'. THR minus. ğŸ“‰" },
                    { text: "Warna kulit seseorang lebih banyak dipengaruhi oleh faktor genetik daripada vitamin.", type: "weaken", feedback: "Tante: 'Kamu bilang Tante item?'. THR minus. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Jangan cicil mobil dulu, mending uangnya buat DP rumah. Harga tanah naik terus, kalau mobil harganya turun terus begitu keluar dari dealer.",
                options: [
                    { text: "Desain rumah bergaya industrial minimalis kini semakin diminati oleh pasangan muda di area perkotaan.", type: "neutral", feedback: "Om: 'Bagus sih, tapi yang penting punya tanah dulu'. THR aman. ğŸ˜" },
                    { text: "Cicilan rumah jangka panjang memiliki bunga yang fluktuatif dan bisa sangat membebani pengeluaran.", type: "weaken", feedback: "Om: 'Hidup harus berani spekulasi'. THR tipis. ğŸ“‰" },
                    { text: "Mobil merupakan aset produktif yang sangat dibutuhkan untuk menunjang mobilitas pekerjaan.", type: "weaken", feedback: "Om: 'Naik angkot kan bisa'. THR tipis. ğŸ“‰" },
                    { text: "Membeli rumah di lokasi jauh dari tempat kerja justru menambah biaya transportasi harian.", type: "weaken", feedback: "Om: 'Nanti juga daerah sana rame'. THR tipis. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Minum susu kental manis itu sehat, bikin anak gemuk dan kuat. Dulu Om kamu kecilnya minum itu terus makanya sekarang badannya besar.",
                options: [
                    { text: "Susu kental manis sering digunakan sebagai topping pelengkap rasa pada martabak manis dan roti bakar.", type: "neutral", feedback: "Tante: 'Iya enak kan? Makanya minum!'. THR aman. ğŸ˜" },
                    { text: "Susu kental manis memiliki kandungan gula yang sangat tinggi dan kadar protein yang sangat rendah.", type: "weaken", feedback: "Tante: 'Jangan percaya hoax internet'. THR bahaya. ğŸ“‰" },
                    { text: "Kegemukan pada anak akibat gula berlebih meningkatkan risiko diabetes dini.", type: "weaken", feedback: "Tante: 'Gemuk itu tandanya makmur'. THR bahaya. ğŸ“‰" },
                    { text: "BPOM telah menyatakan bahwa kental manis tidak boleh digunakan sebagai pengganti susu.", type: "weaken", feedback: "Tante: 'BPOM lebay'. THR bahaya. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kalau ke acara keluarga itu pakai Batik. Kelihatan sopan dan menghargai orang tua. Jangan pakai kaos oblong, kayak orang mau ke pasar.",
                options: [
                    { text: "Proses pembuatan batik tulis tradisional membutuhkan waktu pengerjaan yang lama dan ketelitian tinggi.", type: "neutral", feedback: "Om: 'Iya emang mahal, makanya dipake'. THR cair. ğŸ˜" },
                    { text: "Kaos oblong dari brand mewah saat ini sudah dianggap sebagai gaya busana yang layak.", type: "weaken", feedback: "Om: 'Mahal doang tapi gak sopan'. THR bye. ğŸ“‰" },
                    { text: "Kenyamanan berpakaian jauh lebih penting daripada sekadar mengikuti standar kesopanan.", type: "weaken", feedback: "Om: 'Kamu mau nyaman apa mau sopan?'. THR bye. ğŸ“‰" },
                    { text: "Penggunaan batik di cuaca panas sering kali membuat pemakainya merasa gerah.", type: "weaken", feedback: "Om: 'AC kan dingin, alesan aja'. THR bye. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Masakan Tante nggak pakai banyak garam. Garam itu sumber darah tinggi, nanti kamu cepat marah-marah kalau kebanyakan makan garam.",
                options: [
                    { text: "Garam meja biasanya diperkaya dengan yodium untuk mencegah penyakit gondok.", type: "neutral", feedback: "Tante: 'Iya tau, tapi tetep jangan banyak-banyak'. THR aman. ğŸ˜" },
                    { text: "Natrium dalam garam sangat dibutuhkan tubuh untuk mengatur keseimbangan cairan dan saraf.", type: "weaken", feedback: "Tante: 'Kamu mau stroke muda?'. THR zonk. ğŸ“‰" },
                    { text: "Tekanan darah tinggi lebih banyak disebabkan oleh faktor genetik dan stres.", type: "weaken", feedback: "Tante: 'Genetik keluarga kita bagus ya!'. THR zonk. ğŸ“‰" },
                    { text: "Tanpa garam yang cukup, rasa masakan akan menjadi hambar dan menurunkan nafsu makan.", type: "weaken", feedback: "Tante: 'Bilang aja masakan Tante gak enak!'. THR zonk. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kamu buka usaha laundry saja di dekat kampus. Mahasiswa itu malas nyuci, pasti laku keras dan uangnya ngalir terus tiap hari.",
                options: [
                    { text: "Pewangi pakaian laundry biasanya memiliki varian aroma yang bermacam-macam mulai dari floral hingga fruity.", type: "neutral", feedback: "Om: 'Ya terserah wanginya apa, yang penting cuan'. THR aman. ğŸ˜" },
                    { text: "Persaingan bisnis laundry di area kampus sudah sangat jenuh dengan perang harga.", type: "weaken", feedback: "Om: 'Kamu belum coba udah nyerah'. THR gagal. ğŸ“‰" },
                    { text: "Kenaikan harga bahan baku dan listrik membuat margin laba laundry sangat tipis.", type: "weaken", feedback: "Om: 'Bisnis itu ada risikonya'. THR gagal. ğŸ“‰" },
                    { text: "Mahasiswa saat ini lebih memilih menggunakan jasa laundry koin mandiri.", type: "weaken", feedback: "Om: 'Mahal itu alatnya'. THR gagal. ğŸ“‰" }
                ]
            },
            {
                sender: "Tante",
                statement: "Jangan cuci mobil malam-malam, nanti catnya cepat pudar karena kena embun. Lagian nggak baik buat kesehatan.",
                options: [
                    { text: "Banyak tempat pencucian mobil yang menyediakan ruang tunggu dengan fasilitas Wi-Fi gratis.", type: "neutral", feedback: "Tante: 'Ya bagus dong bisa main HP'. THR aman. ğŸ˜" },
                    { text: "Mencuci mobil di bawah terik matahari justru lebih berisiko merusak cat.", type: "weaken", feedback: "Tante: 'Siapa suruh cuci pas siang bolong?'. THR seret. ğŸ“‰" },
                    { text: "Cat mobil modern sudah dilengkapi dengan lapisan clear coat yang tahan embun.", type: "weaken", feedback: "Tante: 'Mobil Om kamu rusak tuh catnya'. THR seret. ğŸ“‰" },
                    { text: "Mencuci mobil malam hari lebih efisien air karena penguapan rendah.", type: "weaken", feedback: "Tante: 'Hemat air tapi sakit buat apa?'. THR seret. ğŸ“‰" }
                ]
            },
            {
                sender: "Om",
                statement: "Kita mudik H-7 saja sebelum lebaran. Biar nggak kena macet parah dan bisa lebih lama kangen-kangenan di kampung.",
                options: [
                    { text: "Pusat oleh-oleh khas daerah biasanya mengalami lonjakan pengunjung drastis saat musim liburan.", type: "neutral", feedback: "Om: 'Nanti beli oleh-olehnya pas balik aja'. THR aman. ğŸ˜" },
                    { text: "Kebijakan cuti bersama biasanya baru dimulai H-3, jadi butuh cuti tambahan.", type: "weaken", feedback: "Om: 'Kerja mulu kapan senengnya'. THR batal. ğŸ“‰" },
                    { text: "Harga tiket transportasi umum mengalami lonjakan harga signifikan H-7.", type: "weaken", feedback: "Om: 'Om bayarin! (tapi bohong)'. THR batal. ğŸ“‰" },
                    { text: "Banyak proyek pekerjaan yang deadline-nya tepat sebelum libur.", type: "weaken", feedback: "Om: 'Alasan aja kamu gak mau ketemu Om'. THR batal. ğŸ“‰" }
                ]
            }
        ];

        // --- DATA SOAL ALUMNI (20 SOAL) ---
        // Misi: Tentukan Kesimpulan (Logic)
        // REVERT: Siska sends both messages
        const bankSoalAlumni = [
            {
                sender: "Siska",
                statement: "Eh May, semua alumni yang punya startup sendiri itu sudah pasti kaya raya. Nah, si Eko itu kan baru saja rilis startup 'Sayur-Go'.",
                reply_context: "Berarti fix banget, si Eko sekarang sudah kaya raya!",
                options: [
                    { text: "Kesimpulan Siska: PASTI BENAR", type: "logic_correct", feedback: "Betul! (Modus Ponens). Jika P -> Q, dan P terjadi, maka Q pasti terjadi. ğŸ§ " },
                    { text: "Kesimpulan Siska: PASTI SALAH", type: "logic_wrong", feedback: "Salah. Secara logika deduktif, kesimpulan valid berdasarkan premisnya. ğŸ“‰" },
                    { text: "TIDAK DAPAT DISIMPULKAN", type: "logic_wrong", feedback: "Salah. Premis dan fakta sudah cukup untuk menarik kesimpulan pasti. ğŸ“‰" }
                ]
            },
            {
                sender: "Siska",
                statement: "Tahu nggak, kalau sudah jadi Manajer di perusahaan multinasional, jadwalnya pasti padat dan sering lembur. Si Andi itu aku lihat sering banget lembur sampai malam.",
                reply_context: "Wah, pasti si Andi sekarang sudah naik jabatan jadi Manajer itu!",
                options: [
                    { text: "Kesimpulan Siska: TIDAK DAPAT DISIMPULKAN", type: "logic_correct", feedback: "Cerdas! (Affirming the Consequent). Lembur belum tentu Manajer (bisa saja staf biasa). ğŸ§ " },
                    { text: "Kesimpulan Siska: PASTI BENAR", type: "logic_wrong", feedback: "Jebakan! Premisnya 'Manajer -> Lembur', bukan sebaliknya. ğŸ“‰" },
                    { text: "Kesimpulan Siska: PASTI SALAH", type: "logic_wrong", feedback: "Belum tentu salah juga, mungkin saja dia Manajer. Jadi 'Tidak Dapat Disimpulkan'. ğŸ“‰" }
                ]
            },
            // ... (Soal Alumni 3-20 tetap ada, tidak dihapus)
            {
                sender: "Siska",
                statement: "Peraturannya jelas May, semua alumni yang datang ke reuni tahun ini wajib membawa pasangan. Tapi si Deni tadi aku lihat datang sendirian saja di lokasi.",
                reply_context: "Lho, berarti si Deni sebenarnya tidak masuk dalam daftar peserta acara reuni kita hari ini.",
                options: [
                    { text: "Kesimpulan Siska: PASTI BENAR", type: "logic_correct", feedback: "Tepat! (Modus Tollens). Peserta -> Bawa Pasangan. Tidak Bawa -> Bukan Peserta (ilegal). ğŸ§ " },
                    { text: "Kesimpulan Siska: PASTI SALAH", type: "logic_wrong", feedback: "Salah. Logika valid kok. ğŸ“‰" },
                    { text: "TIDAK DAPAT DISIMPULKAN", type: "logic_wrong", feedback: "Salah. Informasi sudah lengkap untuk menyimpulkan. ğŸ“‰" }
                ]
            },
            {
                sender: "Siska",
                statement: "Aku dengar sebagian alumni yang ambil sertifikasi 'Project Management' sekarang sudah bekerja di luar negeri. Si Maya kan kemarin baru lulus sertifikasi itu.",
                reply_context: "Berarti si Maya pasti bakal kerja di luar negeri juga dong!",
                options: [
                    { text: "Kesimpulan Siska: TIDAK DAPAT DISIMPULKAN", type: "logic_correct", feedback: "Pintar! 'Sebagian' artinya tidak semua. Maya bisa masuk golongan yang ke LN atau tidak. ğŸ§ " },
                    { text: "Kesimpulan Siska: PASTI BENAR", type: "logic_wrong", feedback: "Sotoy! Kata 'Sebagian' tidak menjamin Maya termasuk di dalamnya. ğŸ“‰" },
                    { text: "Kesimpulan Siska: PASTI SALAH", type: "logic_wrong", feedback: "Belum tentu salah, mungkin saja dia ke LN. Tapi tidak 'Pasti'. ğŸ“‰" }
                ]
            },
            {
                sender: "Siska",
                statement: "Nggak ada alumni angkatan kita yang sukses tapi nggak punya mobil mewah. Liat deh si Budi, sampai sekarang mobilnya masih motor butut.",
                reply_context: "Kasihan ya, berarti si Budi memang belum sukses hidupnya.",
                options: [
                    { text: "Kesimpulan Siska: PASTI BENAR", type: "logic_correct", feedback: "Logis! (Modus Tollens). Sukses -> Mobil Mewah. Tidak Mobil Mewah -> Tidak Sukses. ğŸ§ " },
                    { text: "Kesimpulan Siska: PASTI SALAH", type: "logic_wrong", feedback: "Salah. Kesimpulannya valid secara logika (meskipun premisnya kejam). ğŸ“‰" },
                    { text: "TIDAK DAPAT DISIMPULKAN", type: "logic_wrong", feedback: "Salah. Premisnya jelas 'Tidak ada sukses tanpa mobil mewah'. ğŸ“‰" }
                ]
            }
        ];

        // --- DATA SOAL PANITIA / ASUMSI (20 SOAL) ---
        // Misi: Cari ASUMSI (Assumption) yang mendasari pernyataan Ketua
        // type: 'correct_assumption' (Score +)
        const bankSoalAsumsi = [
            {
                sender: "Ketua Panitia",
                statement: "Penyelenggaraan pensi tahun ini harus mengundang artis dari mancanegara karena hal tersebut akan meningkatkan nilai jual tiket dan menarik lebih banyak perusahaan untuk menjadi sponsor utama.",
                options: [
                    { text: "Kehadiran artis internasional merupakan faktor penentu utama minat sponsor dan kenaikan harga tiket di mata calon penonton.", type: "correct_assumption", feedback: "Tepat! Ini dasar keyakinan Ketua. ğŸ¯" },
                    { text: "Seluruh perusahaan sponsor hanya tertarik pada acara yang melibatkan artis internasional.", type: "wrong_assumption", feedback: "Terlalu absolut (seluruh), belum tentu asumsi dasar. âŒ" },
                    { text: "Artis mancanegara memiliki jadwal yang fleksibel untuk menghadiri acara sekolah.", type: "wrong_assumption", feedback: "Itu teknis jadwal, bukan asumsi dampak ekonomi. âŒ" },
                    { text: "Biaya mengundang artis mancanegara lebih murah dibandingkan biaya promosi besar-besaran.", type: "wrong_assumption", feedback: "Fakta biaya, bukan asumsi pendapatan. âŒ" }
                ]
            },
            {
                sender: "Sie Bendahara",
                statement: "Mulai tahun ini, seluruh transaksi di gerai makanan pensi wajib menggunakan sistem QRIS. Kebijakan ini akan menghilangkan antrean panjang yang biasanya terjadi di depan gerai makanan.",
                options: [
                    { text: "Durasi transaksi menggunakan sistem non-tunai secara signifikan lebih singkat dibandingkan durasi transaksi menggunakan uang tunai.", type: "correct_assumption", feedback: "Betul! Tanpa asumsi ini, sistem QRIS malah bikin macet. ğŸ¯" },
                    { text: "Seluruh siswa memiliki akses terhadap perangkat telekomunikasi dan saldo dompet digital yang memadai.", type: "wrong_assumption", feedback: "Itu syarat/prasyarat, bukan asumsi tentang kecepatan antrean. âŒ" },
                    { text: "Penjual makanan di pensi lebih menyukai sistem digital dibandingkan uang tunai.", type: "wrong_assumption", feedback: "Itu preferensi penjual. âŒ" },
                    { text: "Antrean panjang di gerai makanan merupakan satu-satunya masalah dalam penyelenggaraan pensi.", type: "wrong_assumption", feedback: "Terlalu menyederhanakan masalah. âŒ" }
                ]
            },
            {
                sender: "Sie Lapangan",
                statement: "Kita harus mengadakan panggung utama di lapangan terbuka (outdoor) agar kapasitas penonton menjadi maksimal dan suasana acara menjadi lebih meriah.",
                options: [
                    { text: "Kondisi cuaca pada hari pelaksanaan acara tidak akan menghambat keberlangsungan kegiatan di panggung terbuka.", type: "correct_assumption", feedback: "Cerdas! Asumsi cuaca adalah kunci keberhasilan acara outdoor. ğŸ¯" },
                    { text: "Biaya penyewaan lahan outdoor lebih ekonomis dibandingkan penyewaan aula tertutup.", type: "wrong_assumption", feedback: "Itu pertimbangan biaya, bukan suasana. âŒ" },
                    { text: "Lapangan terbuka memiliki sistem akustik yang lebih baik dibandingkan ruangan tertutup.", type: "wrong_assumption", feedback: "Itu teknis audio. âŒ" },
                    { text: "Meriahnya suasana acara hanya dapat dicapai melalui penambahan kapasitas penonton.", type: "wrong_assumption", feedback: "Terlalu sempit definisinya. âŒ" }
                ]
            },
            {
                sender: "Sie Humas",
                statement: "Penjualan tiket sistem early bird dengan harga yang jauh lebih murah harus dibuka satu bulan sebelum acara. Hal ini bertujuan untuk memastikan seluruh kuota tiket habis terjual sebelum hari pelaksanaan.",
                options: [
                    { text: "Calon penonton memiliki kecenderungan untuk membeli tiket lebih awal jika terdapat insentif berupa selisih harga yang signifikan.", type: "correct_assumption", feedback: "Tepat! Perilaku konsumen adalah asumsi utamanya. ğŸ¯" },
                    { text: "Tiket yang dijual dengan harga normal tidak akan laku sama sekali di mata calon pengunjung.", type: "wrong_assumption", feedback: "Terlalu pesimis dan absolut. âŒ" },
                    { text: "Panitia tidak membutuhkan aliran dana segar di awal masa persiapan operasional acara.", type: "wrong_assumption", feedback: "Justru kebalikannya. âŒ" },
                    { text: "Seluruh calon penonton sudah memiliki kepastian jadwal untuk hadir satu bulan sebelum acara dimulai.", type: "wrong_assumption", feedback: "Terlalu idealis. âŒ" }
                ]
            },
            {
                sender: "Sie Keamanan",
                statement: "Siswa dilarang membawa kendaraan pribadi ke sekolah saat hari pelaksanaan pensi. Kebijakan ini akan menjamin area sekolah tetap rapi dan bebas dari kemacetan lalu lintas di sekitar pintu masuk.",
                options: [
                    { text: "Kendaraan pribadi siswa merupakan faktor utama penyebab ketidakteraturan dan kemacetan di area sekolah.", type: "correct_assumption", feedback: "Benar! Asumsinya sumber masalah adalah kendaraan siswa. ğŸ¯" },
                    { text: "Jumlah petugas keamanan tidak cukup untuk mengatur volume parkir kendaraan pribadi yang masuk.", type: "wrong_assumption", feedback: "Alasan logistik, bukan asumsi penyebab macet. âŒ" },
                    { text: "Seluruh siswa akan bersedia datang ke sekolah menggunakan transportasi umum atau fasilitas antar-jemput.", type: "wrong_assumption", feedback: "Harapan, bukan asumsi dasar kebijakan. âŒ" },
                    { text: "Area parkir sekolah sedang dialihfungsikan sepenuhnya untuk penempatan infrastruktur panggung.", type: "wrong_assumption", feedback: "Fakta kondisi lapangan. âŒ" }
                ]
            },
            {
                sender: "Sie Publikasi",
                statement: "Kita akan memusatkan promosi pensi di media sosial Instagram dan TikTok. Dengan demikian, target penjualan sebanyak 2.000 tiket pasti akan tercapai dalam waktu singkat.",
                options: [
                    { text: "Target audiens dari acara pensi secara aktif menggunakan media sosial tersebut sebagai sumber informasi utama mengenai hiburan.", type: "correct_assumption", feedback: "Jeli! Tanpa audiens di sana, promosi percuma. ğŸ¯" },
                    { text: "Biaya iklan di Instagram dan TikTok lebih efektif dibandingkan metode promosi konvensional lainnya.", type: "wrong_assumption", feedback: "Perbandingan biaya, bukan asumsi ketercapaian target. âŒ" },
                    { text: "Konten promosi yang dibuat oleh panitia memiliki kualitas yang pasti akan menarik minat calon penonton.", type: "wrong_assumption", feedback: "Terlalu percaya diri (opini). âŒ" },
                    { text: "Penjualan tiket secara fisik sudah dianggap tidak efektif oleh panitia pensi untuk mencapai target.", type: "wrong_assumption", feedback: "Alasan strategi, bukan asumsi keberhasilan. âŒ" }
                ]
            },
            {
                sender: "Ketua Pelaksana",
                statement: "Durasi acara akan diperpanjang hingga pukul 22.00 WIB agar tingkat kepuasan penonton meningkat dan penampilan seluruh pengisi acara dapat maksimal.",
                options: [
                    { text: "Terdapat korelasi positif antara durasi waktu penyelenggaraan acara dengan tingkat kepuasan pengunjung.", type: "correct_assumption", feedback: "Betul! Asumsinya: makin lama makin puas. ğŸ¯" },
                    { text: "Pihak otoritas sekolah dan aparat keamanan akan memberikan perizinan operasional hingga larut malam.", type: "wrong_assumption", feedback: "Prasyarat izin, bukan asumsi kepuasan. âŒ" },
                    { text: "Pengisi acara menolak untuk tampil jika durasi waktu yang diberikan hanya terbatas hingga sore hari.", type: "wrong_assumption", feedback: "Alasan teknis artis. âŒ" },
                    { text: "Lampu penerangan di lapangan sekolah memiliki kapasitas yang memadai untuk mendukung acara malam hari.", type: "wrong_assumption", feedback: "Fakta teknis fasilitas. âŒ" }
                ]
            },
            {
                sender: "Sie Lingkungan",
                statement: "Wajib bagi seluruh penyewa gerai makanan untuk menggunakan kemasan ramah lingkungan demi membangun citra positif pensi sebagai acara yang peduli terhadap kelestarian alam.",
                options: [
                    { text: "Persepsi publik mengenai citra positif sebuah acara dipengaruhi secara signifikan oleh penggunaan material ramah lingkungan.", type: "correct_assumption", feedback: "Tepat! Citra positif diasumsikan datang dari kemasan. ğŸ¯" },
                    { text: "Pengunjung pensi mengutamakan aspek kelestarian lingkungan saat memutuskan untuk membeli makanan.", type: "wrong_assumption", feedback: "Preferensi pembeli, bukan asumsi citra acara. âŒ" },
                    { text: "Masalah sampah plastik merupakan kendala paling krusial dalam penyelenggaraan pensi di tahun-tahun sebelumnya.", type: "wrong_assumption", feedback: "Latar belakang masalah. âŒ" },
                    { text: "Harga penggunaan kemasan ramah lingkungan tidak akan berdampak pada kenaikan harga jual makanan.", type: "wrong_assumption", feedback: "Analisis harga. âŒ" }
                ]
            },
            {
                sender: "Sie Organisasi",
                statement: "Kami akan melibatkan alumni sebagai relawan keamanan tambahan. Langkah ini dipastikan akan menekan angka keributan antar-penonton karena alumni memiliki wibawa di mata adik kelasnya.",
                options: [
                    { text: "Siswa akan menunjukkan kepatuhan terhadap instruksi keamanan yang diberikan oleh pihak alumni.", type: "correct_assumption", feedback: "Benar! Asumsinya wibawa alumni efektif. ğŸ¯" },
                    { text: "Alumni memiliki ketersediaan waktu luang yang memadai untuk hadir secara fisik di hari pelaksanaan.", type: "wrong_assumption", feedback: "Ketersediaan SDM. âŒ" },
                    { text: "Potensi gangguan keamanan dalam acara pensi murni berasal dari interaksi internal antar-siswa sekolah tersebut.", type: "wrong_assumption", feedback: "Analisis sumber masalah. âŒ" },
                    { text: "Jumlah personil dari aparat kepolisian yang dikerahkan oleh panitia masih berada di bawah angka kebutuhan.", type: "wrong_assumption", feedback: "Alasan penambahan personil. âŒ" }
                ]
            },
            {
                sender: "Sie Perlengkapan",
                statement: "Penyediaan kursi tribun khusus dan fasilitas VIP akan meningkatkan pendapatan total acara meskipun jumlah kursi yang tersedia terbatas.",
                options: [
                    { text: "Terdapat segmen konsumen yang memiliki daya beli lebih tinggi dan bersedia membayar demi fasilitas kenyamanan ekstra.", type: "correct_assumption", feedback: "Cerdas! Ada demand untuk VIP. ğŸ¯" },
                    { text: "Kursi VIP ditargetkan secara eksklusif hanya untuk tamu undangan khusus dan pejabat daerah setempat.", type: "wrong_assumption", feedback: "Target pasar spesifik. âŒ" },
                    { text: "Biaya investasi pembangunan tribun VIP diproyeksikan lebih rendah dibandingkan estimasi margin keuntungan.", type: "wrong_assumption", feedback: "Analisis profitabilitas. âŒ" },
                    { text: "Kehadiran fasilitas VIP akan meningkatkan prestise acara di mata pengisi acara internasional.", type: "wrong_assumption", feedback: "Dampak sampingan. âŒ" }
                ]
            },
            {
                sender: "Sie Acara",
                statement: "Penyelenggaraan audisi terbuka bagi band-band lokal untuk tampil sebagai pembuka acara akan menjamin variasi genre musik yang ditampilkan tidak monoton.",
                options: [
                    { text: "Peserta audisi dari kalangan band lokal merepresentasikan berbagai latar belakang genre musik yang beragam.", type: "correct_assumption", feedback: "Tepat! Kalau semua band lokal genrenya sama, tetap monoton. ğŸ¯" },
                    { text: "Penonton pensi memiliki kecenderungan cepat jenuh jika hanya menyaksikan satu kategori genre musik.", type: "wrong_assumption", feedback: "Alasan penonton. âŒ" },
                    { text: "Kualitas musikalitas band lokal sekolah tersebut memiliki standar yang setara dengan artis pengisi acara utama.", type: "wrong_assumption", feedback: "Kualitas musik. âŒ" },
                    { text: "Sistem audisi terbuka merupakan satu-satunya metode efektif untuk menjaring bakat musik di lingkungan sekolah.", type: "wrong_assumption", feedback: "Klaim metode terbaik. âŒ" }
                ]
            },
            {
                sender: "Sie Keamanan",
                statement: "Pemasangan CCTV tambahan di setiap sudut area pensi akan menurunkan tingkat kehilangan barang pribadi milik pengunjung secara drastis.",
                options: [
                    { text: "Kehadiran sistem pengawasan visual yang terlihat mampu memberikan efek cegah terhadap potensi tindakan kriminal.", type: "correct_assumption", feedback: "Benar! Asumsi efek jera CCTV. ğŸ¯" },
                    { text: "Pengunjung pensi sering kali menunjukkan perilaku lalai dalam mengawasi barang bawaan pribadi mereka.", type: "wrong_assumption", feedback: "Perilaku pengunjung. âŒ" },
                    { text: "Personil keamanan memiliki kapasitas untuk memonitor seluruh output rekaman CCTV secara simultan.", type: "wrong_assumption", feedback: "Teknis operasional. âŒ" },
                    { text: "Sebagian besar insiden kehilangan barang disebabkan oleh oknum yang berasal dari luar lingkungan sekolah.", type: "wrong_assumption", feedback: "Analisis pelaku. âŒ" }
                ]
            },
            {
                sender: "Sie Publikasi",
                statement: "Bekerja sama dengan lima media massa lokal untuk meliput acara akan menjamin pensi kita menjadi topik pembicaraan hangat di masyarakat luas.",
                options: [
                    { text: "Publikasi melalui media massa lokal memiliki efektivitas yang signifikan dalam membentuk opini masyarakat di wilayah tersebut.", type: "correct_assumption", feedback: "Jeli! Media lokal dianggap berpengaruh. ğŸ¯" },
                    { text: "Masyarakat umum memiliki atensi yang besar terhadap perkembangan kegiatan kreativitas di tingkat sekolah.", type: "wrong_assumption", feedback: "Minat masyarakat. âŒ" },
                    { text: "Media massa lokal memberikan komitmen untuk tidak memungut biaya operasional peliputan kepada panitia.", type: "wrong_assumption", feedback: "Masalah biaya. âŒ" },
                    { text: "Tolok ukur keberhasilan sebuah acara hanya didasarkan pada seberapa masif acara tersebut dibicarakan publik.", type: "wrong_assumption", feedback: "Definisi sukses. âŒ" }
                ]
            },
            {
                sender: "Sie Pendanaan",
                statement: "Penjualan merchandise resmi harus dipusatkan di pintu keluar. Strategi ini akan memaksimalkan volume penjualan sesaat sebelum penonton meninggalkan lokasi.",
                options: [
                    { text: "Penonton memiliki kecenderungan psikologis untuk membeli produk kenang-kenangan di akhir durasi acara.", type: "correct_assumption", feedback: "Tepat! Psikologi belanja penonton. ğŸ¯" },
                    { text: "Harga jual merchandise di pintu keluar telah disesuaikan dengan daya beli sisa dari para pengunjung.", type: "wrong_assumption", feedback: "Strategi harga. âŒ" },
                    { text: "Pengunjung tidak memiliki sisa saldo tunai yang cukup saat acara baru saja dimulai.", type: "wrong_assumption", feedback: "Kondisi keuangan. âŒ" },
                    { text: "Tata letak pintu masuk tidak memungkinkan untuk penempatan instalasi gerai merchandise resmi.", type: "wrong_assumption", feedback: "Kendala teknis lokasi. âŒ" }
                ]
            },
            {
                sender: "Sie Umum",
                statement: "Penyediaan fasilitas pengisian daya baterai ponsel secara gratis akan membuat penonton lebih lama bertahan di area gerai makanan.",
                options: [
                    { text: "Keterbatasan daya baterai ponsel merupakan kendala utama yang menghalangi pengunjung untuk tetap berada di lokasi.", type: "correct_assumption", feedback: "Benar! Baterai habis = pulang. ğŸ¯" },
                    { text: "Penggunaan perangkat ponsel oleh pengunjung untuk merekam acara menyebabkan konsumsi baterai meningkat cepat.", type: "wrong_assumption", feedback: "Penyebab baterai habis. âŒ" },
                    { text: "Penonton akan segera meninggalkan area acara apabila perangkat komunikasi mereka kehabisan daya baterai.", type: "wrong_assumption", feedback: "Konsekuensi. âŒ" },
                    { text: "Penonton akan cenderung melakukan transaksi makanan tambahan saat menunggu proses pengisian daya baterai.", type: "wrong_assumption", feedback: "Dampak ekonomi tambahan. âŒ" }
                ]
            },
            {
                sender: "Ketua Panitia",
                statement: "Penjualan tiket harus dibatasi maksimal sebanyak 3.000 lembar demi menjamin standar kenyamanan dan keselamatan pengunjung di dalam area sekolah.",
                options: [
                    { text: "Kapasitas daya tampung area sekolah memiliki batas maksimal tertentu untuk menunjang keamanan massa.", type: "correct_assumption", feedback: "Tepat! Batas aman area sekolah. ğŸ¯" },
                    { text: "Proyeksi permintaan terhadap tiket acara diperkirakan tidak akan melampaui angka 3.000 unit.", type: "wrong_assumption", feedback: "Prediksi permintaan. âŒ" },
                    { text: "Risiko kericuhan massa hanya akan terjadi apabila jumlah individu di dalam area melebihi ambang batas tertentu.", type: "wrong_assumption", feedback: "Kondisi risiko. âŒ" },
                    { text: "Otoritas kepolisian menetapkan regulasi yang membatasi jumlah kerumunan di bawah angka 3.500 orang.", type: "wrong_assumption", feedback: "Regulasi eksternal. âŒ" }
                ]
            },
            {
                sender: "Sie Acara",
                statement: "Penggunaan siswa yang populer di sekolah sebagai pembawa acara akan menjamin interaksi di atas panggung menjadi lebih dinamis dan akrab.",
                options: [
                    { text: "Audiens akan memberikan respons yang lebih positif terhadap komunikasi yang dilakukan oleh figur yang sudah dikenal.", type: "correct_assumption", feedback: "Cerdas! Popularitas = Respon positif. ğŸ¯" },
                    { text: "Siswa dengan popularitas tinggi secara otomatis memiliki kompetensi teknis dalam komunikasi publik.", type: "wrong_assumption", feedback: "Korelasi kemampuan. âŒ" },
                    { text: "Biaya jasa pembawa acara profesional dari luar sekolah tidak terjangkau oleh anggaran panitia.", type: "wrong_assumption", feedback: "Kendala biaya. âŒ" },
                    { text: "Status popularitas seorang siswa berbanding lurus dengan tingkat keaktifannya dalam organisasi seni.", type: "wrong_assumption", feedback: "Fakta popularitas. âŒ" }
                ]
            },
            {
                sender: "Sie Pendanaan",
                statement: "Bekerja sama dengan satu merek minuman energi sebagai sponsor tunggal akan memberikan kontribusi profitabilitas yang signifikan bagi panitia.",
                options: [
                    { text: "Pihak perusahaan sponsor bersedia memberikan nilai kompensasi finansial yang tinggi untuk hak eksklusivitas merek.", type: "correct_assumption", feedback: "Betul! Sponsor mau bayar mahal demi eksklusif. ğŸ¯" },
                    { text: "Pengunjung pensi memiliki preferensi konsumsi minuman energi di atas kategori minuman ringan lainnya.", type: "wrong_assumption", feedback: "Selera konsumen. âŒ" },
                    { text: "Konsumsi minuman energi merupakan kebutuhan fungsional bagi penonton yang berdiri dalam durasi lama.", type: "wrong_assumption", feedback: "Fungsi produk. âŒ" },
                    { text: "Perjanjian kontrak melarang panitia untuk memasarkan produk dari kompetitor langsung selama acara.", type: "wrong_assumption", feedback: "Syarat kontrak. âŒ" }
                ]
            },
            {
                sender: "Sie Lingkungan",
                statement: "Pemasangan tempat sampah dengan desain visual yang unik akan meningkatkan kepatuhan pengunjung untuk membuang sampah pada tempatnya.",
                options: [
                    { text: "Stimulus visual yang menarik dapat secara efektif mempengaruhi perilaku pengunjung dalam menjaga kebersihan.", type: "correct_assumption", feedback: "Tepat! Desain -> Perilaku. ğŸ¯" },
                    { text: "Rendahnya kesadaran membuang sampah disebabkan oleh bentuk tempat sampah konvensional yang tidak menarik perhatian.", type: "wrong_assumption", feedback: "Analisis masalah. âŒ" },
                    { text: "Rasio jumlah tempat sampah berbanding luas area di lapangan sekolah saat ini masih berada di bawah standar.", type: "wrong_assumption", feedback: "Fakta fasilitas. âŒ" },
                    { text: "Demografi pengunjung pensi didominasi oleh kelompok usia yang sangat mengapresiasi unsur estetika visual.", type: "wrong_assumption", feedback: "Profil pengunjung. âŒ" }
                ]
            },
            {
                sender: "Sie Keamanan",
                statement: "Penyampaian pengumuman berkala mengenai kewaspadaan barang bawaan akan meniadakan insiden kriminalitas pencopetan di seluruh area acara.",
                options: [
                    { text: "Insiden kriminalitas dalam acara tersebut sepenuhnya disebabkan oleh kelalaian pengunjung dalam menjaga privasi barang.", type: "correct_assumption", feedback: "Benar! Asumsinya cuma karena lalai (bukan niat jahat). ğŸ¯" },
                    { text: "Pelaku tindakan kriminal akan membatalkan niatnya ketika mendengar imbauan resmi dari pihak keamanan.", type: "wrong_assumption", feedback: "Reaksi pelaku. âŒ" },
                    { text: "Seluruh lapisan pengunjung memiliki tingkat kepatuhan penuh terhadap instruksi yang diberikan melalui sistem suara.", type: "wrong_assumption", feedback: "Tingkat kepatuhan. âŒ" },
                    { text: "Intensitas suara dari panggung utama tidak akan menginterfensi kejernihan suara pengumuman keamanan.", type: "wrong_assumption", feedback: "Teknis audio. âŒ" }
                ]
            }
        ];

        // --- GAME LOGIC ---
        
        let currentGameMode = 'rt'; // 'rt', 'keluarga', 'alumni', 'asumsi'
        let gameQuestions = [];
        let currentLevel = 0;
        let score = 0; 
        const totalQuestionsPerSession = 5;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // 1. BRIEFING & SELECT MODE
        function showBriefing(mode) {
            currentGameMode = mode;
            document.getElementById('modal-briefing').classList.remove('hidden');
            
            const titleEl = document.getElementById('mission-title');
            const contentEl = document.getElementById('mission-content');
            
            if (mode === 'rt') {
                titleEl.innerText = "Misi: Wakil Suara Warga";
                titleEl.className = "text-lg font-bold";
                contentEl.innerHTML = `
                    <p class="text-gray-700 leading-relaxed mb-4 text-sm md:text-base">
                        Warga resah dengan kelakuan <span class="font-bold text-pink-600">Ibu RT</span> yang otoriter.
                    </p>
                    <div class="bg-red-50 p-4 rounded-lg mb-4 text-sm border-l-4 border-red-500">
                        <p class="font-semibold text-gray-800 mb-1 italic">Tugas Anda:</p>
                        <ul class="list-disc ml-4 space-y-1 text-gray-600">
                            <li>Lawan 5 opini Ibu RT.</li>
                            <li>Pilih jawaban yang <span class="font-bold text-red-600">MEMPERLEMAH (Weaken)</span> argumennya.</li>
                            <li>Target: Bikin Ibu RT Kesal (Score 100%)!</li>
                        </ul>
                    </div>
                `;
            } else if (mode === 'keluarga') {
                titleEl.innerText = "Misi: Demi THR Lebaran";
                titleEl.className = "text-lg font-bold text-yellow-600";
                contentEl.innerHTML = `
                    <p class="text-gray-700 leading-relaxed mb-4 text-sm md:text-base">
                        Lebaran sebentar lagi. Om dan Tante sedang aktif membagikan "info-info" di grup.
                    </p>
                    <div class="bg-green-50 p-4 rounded-lg mb-4 text-sm border-l-4 border-green-500">
                        <p class="font-semibold text-gray-800 mb-1 italic">Tugas Anda:</p>
                        <ul class="list-disc ml-4 space-y-1 text-gray-600">
                            <li>Hadapi 5 pernyataan Om/Tante.</li>
                            <li>Pilih jawaban yang <span class="font-bold text-green-600">TIDAK MEMPERLEMAH</span> (Setuju/Netral).</li>
                            <li>Jangan membantah! Nanti dicoret dari daftar penerima THR.</li>
                            <li>Target: Kumpulkan THR (Score 100%)!</li>
                        </ul>
                    </div>
                `;
            } else if (mode === 'alumni') {
                titleEl.innerText = "Misi: Si Paling Logis";
                titleEl.className = "text-lg font-bold text-purple-600";
                contentEl.innerHTML = `
                    <p class="text-gray-700 leading-relaxed mb-4 text-sm md:text-base">
                        Siska sedang menyebar gosip di grup alumni. Kadang kesimpulannya suka ngawur.
                    </p>
                    <div class="bg-purple-50 p-4 rounded-lg mb-4 text-sm border-l-4 border-purple-500">
                        <p class="font-semibold text-gray-800 mb-1 italic">Tugas Anda:</p>
                        <ul class="list-disc ml-4 space-y-1 text-gray-600">
                            <li>Analisis premis dan kesimpulan Siska.</li>
                            <li>Tentukan validitas kesimpulannya: <br><b>Pasti Benar</b>, <b>Pasti Salah</b>, atau <b>Tidak Dapat Disimpulkan</b>.</li>
                            <li>Target: Jadilah Alumni Paling Logis!</li>
                        </ul>
                    </div>
                `;
            } else {
                // ASUMSI
                titleEl.innerText = "Misi: Panitia Kritis";
                titleEl.className = "text-lg font-bold text-orange-600";
                contentEl.innerHTML = `
                    <p class="text-gray-700 leading-relaxed mb-4 text-sm md:text-base">
                        Ketua Panitia punya banyak ide proker, tapi sering lupa sama kenyataan di lapangan.
                    </p>
                    <div class="bg-orange-50 p-4 rounded-lg mb-4 text-sm border-l-4 border-orange-500">
                        <p class="font-semibold text-gray-800 mb-1 italic">Tugas Anda:</p>
                        <ul class="list-disc ml-4 space-y-1 text-gray-600">
                            <li>Analisis rencana Ketua Panitia.</li>
                            <li>Cari <span class="font-bold text-orange-600">ASUMSI DASAR</span> yang membuat rencananya valid.</li>
                            <li>Ingat: Asumsi adalah hal yang "dianggap benar" oleh pembicara.</li>
                        </ul>
                    </div>
                `;
            }
        }

        // 2. SETUP GAME SCREEN
        function startGame() {
            document.getElementById('modal-briefing').classList.add('hidden');
            document.getElementById('screen-home').classList.add('hidden');
            document.getElementById('screen-game').classList.remove('hidden');
            
            // Reset State
            score = 0;
            currentLevel = 0;
            document.getElementById('dynamic-messages').innerHTML = '';
            
            // Setup Visuals based on Mode
            const avatar = document.getElementById('game-avatar');
            const title = document.getElementById('game-title');
            const members = document.getElementById('game-members');
            const scoreLabel = document.getElementById('score-label');
            const bar = document.getElementById('bar-score');
            const intro = document.getElementById('game-intro');
            const hint = document.getElementById('options-hint');

            if (currentGameMode === 'rt') {
                const shuffled = shuffleArray([...bankSoalRT]); 
                gameQuestions = shuffled.slice(0, totalQuestionsPerSession);
                
                avatar.src = "https://images.unsplash.com/photo-1560717845-968823efbee1?auto=format&fit=crop&w=150&q=80";
                title.innerText = "Grup Warga Komplek Berkah";
                members.innerText = "Ibu RT, Pak RW, Anda...";
                scoreLabel.innerText = "ğŸ”¥ KEKESALAN";
                bar.className = "progress-bar h-full bg-gradient-to-r from-orange-400 to-red-600";
                intro.innerText = "Misi: Patahkan Argumen Ibu RT!";
                intro.className = "bg-red-100/90 text-red-800 text-xs p-2 rounded-lg self-center px-4 mb-2 shadow-sm font-semibold text-center border border-red-200 shrink-0";
                hint.innerText = "Pilih Balasan (Target: Perlemah)";
            } else if (currentGameMode === 'keluarga') {
                const shuffled = shuffleArray([...bankSoalKeluarga]);
                gameQuestions = shuffled.slice(0, totalQuestionsPerSession);

                avatar.src = "https://api.dicebear.com/7.x/avataaars/svg?seed=Grandpa&backgroundColor=b6e3f4";
                title.innerText = "Keluarga Besar (Haji Somad)";
                members.innerText = "Om Agus, Tante Yuni, Anda...";
                scoreLabel.innerText = "ğŸ’¸ THR METER";
                bar.className = "progress-bar h-full bg-gradient-to-r from-yellow-400 to-green-600";
                intro.innerText = "Misi: Cari Muka Demi THR!";
                intro.className = "bg-green-100/90 text-green-800 text-xs p-2 rounded-lg self-center px-4 mb-2 shadow-sm font-semibold text-center border border-green-200 shrink-0";
                hint.innerText = "Pilih Balasan (Target: JANGAN Memperlemah)";
            } else if (currentGameMode === 'alumni') {
                const shuffled = shuffleArray([...bankSoalAlumni]);
                gameQuestions = shuffled.slice(0, totalQuestionsPerSession);

                avatar.src = "https://api.dicebear.com/7.x/avataaars/svg?seed=Siska&backgroundColor=e9d5ff";
                title.innerText = "Alumni SMA 1 (Julid)";
                members.innerText = "Siska, Budi, Anda...";
                scoreLabel.innerText = "ğŸ§  LOGIKA";
                bar.className = "progress-bar h-full bg-gradient-to-r from-blue-400 to-purple-600";
                intro.innerText = "Misi: Uji Validitas Kesimpulan Siska!";
                intro.className = "bg-purple-100/90 text-purple-800 text-xs p-2 rounded-lg self-center px-4 mb-2 shadow-sm font-semibold text-center border border-purple-200 shrink-0";
                hint.innerText = "Analisis Kesimpulan (Valid/Invalid)";
            } else {
                // ASUMSI
                const shuffled = shuffleArray([...bankSoalAsumsi]);
                gameQuestions = shuffled.slice(0, totalQuestionsPerSession);

                avatar.src = "https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=ffedd5";
                title.innerText = "Panitia PENSI 2024";
                members.innerText = "Beto (Ketua), Sie Acara, Anda...";
                scoreLabel.innerText = "ğŸ¯ KRITIS";
                bar.className = "progress-bar h-full bg-gradient-to-r from-yellow-400 to-orange-600";
                intro.innerText = "Misi: Cari Asumsi Dasar Rencana!";
                intro.className = "bg-orange-100/90 text-orange-800 text-xs p-2 rounded-lg self-center px-4 mb-2 shadow-sm font-semibold text-center border border-orange-200 shrink-0";
                hint.innerText = "Pilih Pernyataan Asumsi";
            }

            updateScoreBar();
            initLevel();
        }

        function backToHome() {
            document.getElementById('screen-home').classList.remove('hidden');
            document.getElementById('screen-game').classList.add('hidden');
            document.getElementById('overlay').classList.add('hidden');
        }

        // 3. GAME LOOP
        function initLevel() {
            if (currentLevel >= gameQuestions.length) {
                checkFinalResult();
                return;
            }
            if (currentGameMode === 'rt' && score >= 100) {
                checkFinalResult();
                return;
            }

            const indicator = document.getElementById('typing-indicator');
            let senderName = 'Sender';
            if (currentGameMode === 'rt') senderName = 'Ibu RT';
            else if (currentGameMode === 'keluarga') senderName = gameQuestions[currentLevel].sender;
            else if (currentGameMode === 'alumni') senderName = 'Siska';
            else senderName = gameQuestions[currentLevel].sender; // Asumsi
            
            indicator.innerText = `${senderName} sedang mengetik...`;
            indicator.classList.remove('hidden');
            
            setTimeout(() => {
                indicator.classList.add('hidden');
                
                // Show Question Logic
                addMessage(gameQuestions[currentLevel].statement, 'left', senderName);
                
                // For Alumni mode, Siska sends the conclusion as second bubble (REVERTED)
                if (currentGameMode === 'alumni') {
                    setTimeout(() => {
                        const conclusion = gameQuestions[currentLevel].reply_context;
                        addMessage(conclusion, 'left', senderName);
                        showOptions();
                    }, 800);
                } else {
                    showOptions();
                }
                
            }, 1000);
        }

        function addMessage(text, side, sender) {
            const container = document.getElementById('dynamic-messages');
            const div = document.createElement('div');
            div.className = `bubble-${side} p-3 max-w-[85%] shadow-sm self-${side === 'left' ? 'start' : 'end'} message-anim`;
            
            const color = side === 'left' ? 'text-purple-600' : 'text-green-600';
            const senderName = side === 'left' ? sender : 'Anda';
            
            div.innerHTML = `
                <p class="text-[10px] font-bold ${color} mb-1">${senderName}</p>
                <p class="text-sm text-gray-800">${text}</p>
                <span class="text-[9px] text-gray-500 float-right mt-1">${new Date().getHours()}:${String(new Date().getMinutes()).padStart(2, '0')}</span>
            `;
            container.appendChild(div);
            const chatCont = document.getElementById('chat-container');
            setTimeout(() => { chatCont.scrollTo({ top: chatCont.scrollHeight, behavior: 'smooth' }); }, 50);
        }

        function showOptions() {
            const grid = document.getElementById('options-grid');
            grid.innerHTML = '';
            
            let currentOptions = [...gameQuestions[currentLevel].options];
            if (currentGameMode !== 'alumni') {
                currentOptions = shuffleArray(currentOptions); 
            }

            currentOptions.forEach((opt) => {
                const btn = document.createElement('button');
                btn.className = "bg-white p-3 rounded-lg text-xs text-left border border-gray-200 hover:bg-green-50 active:bg-green-100 transition shadow-sm text-gray-700 font-medium active:scale-95 transform duration-100";
                btn.innerText = opt.text;
                btn.onclick = () => handleChoice(opt);
                grid.appendChild(btn);
            });
        }

        function handleChoice(option) {
            document.getElementById('options-grid').innerHTML = '';
            addMessage(option.text, 'right');

            setTimeout(() => {
                // --- SCORING LOGIC ---
                if (currentGameMode === 'rt') {
                    if (option.type === 'weaken') score += 25;
                    else if (option.type === 'strengthen') score = Math.max(0, score - 10);
                } else if (currentGameMode === 'keluarga') {
                    if (option.type === 'weaken') score = Math.max(0, score - 20); 
                    else score += 20; 
                } else if (currentGameMode === 'alumni') {
                    if (option.type === 'logic_correct') score += 20; 
                    else score = Math.max(0, score - 10);
                } else {
                    // ASUMSI
                    if (option.type === 'correct_assumption') score += 20;
                    else score = Math.max(0, score - 10);
                }

                updateScoreBar();
                
                const sysDiv = document.createElement('div');
                sysDiv.className = "bg-white/70 text-gray-600 text-[10px] p-2 rounded-full self-center px-4 shadow-sm italic text-center max-w-[80%] border border-gray-200 mt-2 mb-4";
                sysDiv.innerText = option.feedback;
                document.getElementById('dynamic-messages').appendChild(sysDiv);
                
                const chatCont = document.getElementById('chat-container');
                setTimeout(() => { chatCont.scrollTo({ top: chatCont.scrollHeight, behavior: 'smooth' }); }, 50);

                currentLevel++;
                setTimeout(initLevel, 1500);
            }, 500);
        }

        function updateScoreBar() {
            const val = Math.min(100, score);
            document.getElementById('bar-score').style.width = val + "%";
            document.getElementById('score-text').innerText = val + "%";
        }

        function checkFinalResult() {
            const overlay = document.getElementById('overlay');
            const title = document.getElementById('result-title');
            const desc = document.getElementById('result-desc');
            const icon = document.getElementById('result-icon');

            overlay.classList.remove('hidden');

            if (currentGameMode === 'rt') {
                if (score >= 100) {
                    icon.innerText = "ğŸš«";
                    title.innerText = "ANDA DIKICK!";
                    desc.innerText = `MISI BERHASIL! Anda membuat Ibu RT emosi sampai ke ubun-ubun dengan fakta logis. Warga merayakan kebebasan!`;
                } else {
                    icon.innerText = "ğŸ˜";
                    title.innerText = "GAGAL DIKICK";
                    desc.innerText = `Skor Kekesalan hanya ${score}%. Anda kurang kritis! Coba lagi serang argumennya!`;
                }
            } else if (currentGameMode === 'keluarga') {
                if (score >= 80) {
                    icon.innerText = "ğŸ’°";
                    title.innerText = "THR CAIR!";
                    desc.innerText = `SELAMAT! Anda berhasil menjadi keponakan kesayangan. THR tebal siap masuk dompet. Idealisme tergadai, tapi perut kenyang!`;
                } else {
                    icon.innerText = "ğŸ˜­";
                    title.innerText = "DICORET DARI KK";
                    desc.innerText = `Skor THR hanya ${score}%. Anda terlalu banyak membantah Om dan Tante. Lebaran tahun ini Anda cuma dapat rengginang.`;
                }
            } else if (currentGameMode === 'alumni') {
                if (score >= 80) {
                    icon.innerText = "ğŸ“";
                    title.innerText = "SI PALING LOGIS";
                    desc.innerText = `HEBAT! Logika deduksi Anda tajam. Anda berhasil meluruskan gosip murahan Siska dengan fakta logika. Grup Alumni jadi tercerahkan!`;
                } else {
                    icon.innerText = "ğŸ¤ª";
                    title.innerText = "KORBAN GOSIP";
                    desc.innerText = `Skor Logika hanya ${score}%. Anda mudah termakan kesimpulan yang salah. Ayo belajar silogisme lagi!`;
                }
            } else {
                // ASUMSI
                if (score >= 80) {
                    icon.innerText = "ğŸ•µï¸";
                    title.innerText = "DETEKTIF ASUMSI";
                    desc.innerText = `KEREN! Anda berhasil membongkar semua asumsi tersembunyi di balik rencana Ketua Panitia. Proker jadi lebih realistis!`;
                } else {
                    icon.innerText = "ğŸŒ€";
                    title.innerText = "GAGAL PAHAM";
                    desc.innerText = `Skor Kritis hanya ${score}%. Anda masih sulit membedakan antara fakta, opini, dan asumsi dasar. Coba lagi!`;
                }
            }
        }
    </script>
</body>
</html>
